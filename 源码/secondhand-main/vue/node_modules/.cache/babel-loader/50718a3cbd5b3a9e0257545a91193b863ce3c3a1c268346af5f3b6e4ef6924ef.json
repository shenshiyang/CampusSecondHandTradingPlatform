{"ast":null,"code":"import Comment from '@/components/Comment';\nexport default {\n  name: 'PostsDetail',\n  components: {\n    Comment\n  },\n  data() {\n    return {\n      id: this.$route.query.id,\n      posts: {},\n      loading: false\n    };\n  },\n  created() {\n    this.init();\n  },\n  methods: {\n    /** 初始化：先 +1 阅读量，再拉详情 */\n    async init() {\n      await this.$request.put(`/posts/updateCount/${this.id}`);\n      this.fetchPost();\n    },\n    /** 拉取帖子详情 */\n    async fetchPost() {\n      this.loading = true;\n      const {\n        code,\n        data,\n        msg\n      } = await this.$request.get(`/posts/selectById/${this.id}`);\n      this.loading = false;\n      code === '200' ? this.posts = data || {} : this.$message.error(msg);\n    }\n  }\n};","map":{"version":3,"names":["Comment","name","components","data","id","$route","query","posts","loading","created","init","methods","$request","put","fetchPost","code","msg","get","$message","error"],"sources":["src/views/front/PostsDetail.vue"],"sourcesContent":["<template>\n  <div class=\"posts-detail\">\n    <!-- 骨架屏 -->\n    <template v-if=\"loading\">\n      <el-card shadow=\"hover\" class=\"post-card skeleton-card\">\n        <el-skeleton :rows=\"6\" animated>\n          <template slot=\"template\">\n            <el-skeleton-item variant=\"h1\" style=\"width: 80%; margin: 0 auto 20px;\" />\n            <div style=\"text-align: center; margin-bottom: 30px;\">\n              <el-skeleton-item variant=\"text\" style=\"width: 30%; margin: 0 10px;\" />\n              <el-skeleton-item variant=\"text\" style=\"width: 30%; margin: 0 10px;\" />\n              <el-skeleton-item variant=\"text\" style=\"width: 30%; margin: 0 10px;\" />\n            </div>\n            <el-skeleton-item variant=\"p\" style=\"margin-bottom: 15px;\" v-for=\"i in 6\" :key=\"i\" />\n          </template>\n        </el-skeleton>\n      </el-card>\n    </template>\n\n    <!-- 帖子内容 -->\n    <template v-else>\n      <el-card shadow=\"hover\" class=\"post-card\">\n        <div class=\"post-header\">\n          <h1 class=\"post-title\">{{ posts.title }}</h1>\n          \n          <div class=\"post-meta\">\n            <div class=\"meta-item\">\n              <i class=\"el-icon-user\" />\n              <span>{{ posts.userName }}</span>\n            </div>\n            <div class=\"meta-divider\"></div>\n            <div class=\"meta-item\">\n              <i class=\"el-icon-time\" />\n              <span>{{ posts.time }}</span>\n            </div>\n            <div class=\"meta-divider\"></div>\n            <div class=\"meta-item\">\n              <i class=\"el-icon-reading\" />\n              <span>{{ posts.readCount }} 次阅读</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- 富文本内容 -->\n        <div class=\"post-content-wrapper\">\n          <div\n            class=\"post-content w-e-text\"\n            v-html=\"posts.content\"\n          />\n        </div>\n      </el-card>\n\n      <!-- 评论区 -->\n      <el-card shadow=\"hover\" class=\"comment-card\">\n        <div class=\"comment-header\">\n          <i class=\"el-icon-chat-line-round\"></i>\n          <span>评论区</span>\n        </div>\n        <Comment :fid=\"id\" module=\"posts\" />\n      </el-card>\n    </template>\n  </div>\n</template>\n\n<script>\nimport Comment from '@/components/Comment'\n\nexport default {\n  name: 'PostsDetail',\n  components: { Comment },\n  data() {\n    return {\n      id: this.$route.query.id,\n      posts: {},\n      loading: false\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    /** 初始化：先 +1 阅读量，再拉详情 */\n    async init() {\n      await this.$request.put(`/posts/updateCount/${this.id}`)\n      this.fetchPost()\n    },\n    /** 拉取帖子详情 */\n    async fetchPost() {\n      this.loading = true\n      const { code, data, msg } = await this.$request.get(\n        `/posts/selectById/${this.id}`\n      )\n      this.loading = false\n      code === '200' ? (this.posts = data || {}) : this.$message.error(msg)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.posts-detail {\n  width: 70%;\n  max-width: 1000px;\n  margin: 30px auto;\n  padding: 0 20px;\n}\n\n/* 骨架屏样式 */\n.skeleton-card {\n  padding: 40px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n/* 帖子卡片 */\n.post-card {\n  padding: 40px;\n  margin-bottom: 30px;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.post-card:hover {\n  box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);\n}\n\n.post-header {\n  border-bottom: 1px solid #f0f0f0;\n  padding-bottom: 30px;\n  margin-bottom: 30px;\n}\n\n.post-title {\n  text-align: center;\n  font-size: 28px;\n  font-weight: 600;\n  color: #303133;\n  margin-bottom: 24px;\n  line-height: 1.4;\n}\n\n.post-meta {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #909399;\n  font-size: 14px;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.meta-item i {\n  font-size: 16px;\n  color: #409EFF;\n}\n\n.meta-divider {\n  width: 1px;\n  height: 14px;\n  background-color: #dcdfe6;\n  margin: 0 20px;\n}\n\n.post-content-wrapper {\n  padding: 0 20px;\n}\n\n.post-content {\n  font-size: 16px;\n  line-height: 1.8;\n  color: #303133;\n}\n\n.post-content :deep(img) {\n  max-width: 100%;\n  height: auto;\n  border-radius: 8px;\n  margin: 10px 0;\n}\n\n.post-content :deep(p) {\n  margin-bottom: 16px;\n}\n\n.post-content :deep(h1),\n.post-content :deep(h2),\n.post-content :deep(h3),\n.post-content :deep(h4),\n.post-content :deep(h5),\n.post-content :deep(h6) {\n  margin: 24px 0 16px;\n  font-weight: 600;\n  color: #303133;\n}\n\n.post-content :deep(a) {\n  color: #409EFF;\n  text-decoration: none;\n  transition: color 0.3s ease;\n}\n\n.post-content :deep(a:hover) {\n  color: #66b1ff;\n}\n\n.post-content :deep(pre) {\n  background-color: #f5f7fa;\n  padding: 15px;\n  border-radius: 4px;\n  overflow-x: auto;\n  margin: 16px 0;\n}\n\n.post-content :deep(blockquote) {\n  padding: 0 16px;\n  color: #606266;\n  border-left: 4px solid #409EFF;\n  margin: 16px 0;\n}\n\n/* 评论卡片 */\n.comment-card {\n  padding: 30px;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n}\n\n.comment-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 20px;\n  font-size: 18px;\n  font-weight: 500;\n  color: #303133;\n}\n\n.comment-header i {\n  color: #409EFF;\n  font-size: 20px;\n}\n\n/* 响应式调整 */\n@media screen and (max-width: 768px) {\n  .posts-detail {\n    width: 95%;\n    padding: 0 10px;\n  }\n\n  .post-card,\n  .comment-card {\n    padding: 20px;\n  }\n\n  .post-title {\n    font-size: 24px;\n  }\n\n  .post-meta {\n    flex-direction: column;\n    gap: 10px;\n  }\n\n  .meta-divider {\n    display: none;\n  }\n\n  .post-content-wrapper {\n    padding: 0;\n  }\n}\n</style>\n"],"mappings":"AAiEA,OAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,EAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;MACAG,KAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACA;IACA,MAAAD,KAAA;MACA,WAAAE,QAAA,CAAAC,GAAA,4BAAAT,EAAA;MACA,KAAAU,SAAA;IACA;IACA;IACA,MAAAA,UAAA;MACA,KAAAN,OAAA;MACA;QAAAO,IAAA;QAAAZ,IAAA;QAAAa;MAAA,eAAAJ,QAAA,CAAAK,GAAA,CACA,0BAAAb,EAAA,EACA;MACA,KAAAI,OAAA;MACAO,IAAA,kBAAAR,KAAA,GAAAJ,IAAA,cAAAe,QAAA,CAAAC,KAAA,CAAAH,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
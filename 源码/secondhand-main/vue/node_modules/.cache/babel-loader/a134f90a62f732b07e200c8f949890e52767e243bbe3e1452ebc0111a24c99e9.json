{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"FrontGoods\",\n  data() {\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      stockDialogVisible: false,\n      currentRow: null,\n      tempStock: 0\n    };\n  },\n  created() {\n    this.load(1);\n  },\n  methods: {\n    handleEdit(row) {\n      this.$router.push('/front/addGoods?id=' + row.id);\n    },\n    del(id) {\n      this.$confirm('您确定删除该商品吗？', '确认操作', {\n        type: 'warning'\n      }).then(() => {\n        this.$request.delete('/goods/delete/' + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success('删除成功');\n            this.load(1);\n          } else {\n            this.$message.error(res.msg);\n          }\n        });\n      }).catch(() => {});\n    },\n    toggleStatus(row) {\n      const newStatus = row.saleStatus === '上架' ? '下架' : '上架';\n      this.$request.post('/goods/updateStockAndSaleStatus', {\n        id: row.id,\n        stock: row.stock,\n        saleStatus: newStatus\n      }).then(res => {\n        if (res.code === '200') {\n          row.saleStatus = newStatus;\n          this.$message.success(`已${newStatus}`);\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    openStockDialog(row) {\n      this.currentRow = row;\n      this.tempStock = row.stock;\n      this.stockDialogVisible = true;\n    },\n    confirmUpdateStock() {\n      this.$request.post('/goods/updateStockAndSaleStatus', {\n        id: this.currentRow.id,\n        stock: this.tempStock,\n        saleStatus: this.currentRow.saleStatus\n      }).then(res => {\n        if (res.code === '200') {\n          this.$message.success(\"库存已更新\");\n          this.currentRow.stock = this.tempStock;\n          this.stockDialogVisible = false;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    load(pageNum) {\n      if (pageNum) this.pageNum = pageNum;\n      this.$request.get('/goods/selectPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data?.list || [];\n          this.total = res.data?.total;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    handleCurrentChange(pageNum) {\n      this.load(pageNum);\n    }\n  }\n};","map":{"version":3,"names":["name","data","tableData","pageNum","pageSize","total","stockDialogVisible","currentRow","tempStock","created","load","methods","handleEdit","row","$router","push","id","del","$confirm","type","then","$request","delete","res","code","$message","success","error","msg","catch","toggleStatus","newStatus","saleStatus","post","stock","openStockDialog","confirmUpdateStock","get","params","list","handleCurrentChange"],"sources":["src/views/front/Goods.vue"],"sourcesContent":["<template>\n  <div class=\"goods-container\">\n    <!-- Card Box for Product Table -->\n    <el-card class=\"card-box\">\n      <el-table\n        :data=\"tableData\"\n        stripe\n        border\n        empty-text=\"暂无商品数据\"\n        highlight-current-row\n        style=\"width: 100%; table-layout: fixed\"\n      >\n        <!-- 商品名称 -->\n        <el-table-column prop=\"name\" label=\"名称\" align=\"center\" show-overflow-tooltip />\n\n        <!-- 价格列 -->\n        <el-table-column prop=\"price\" label=\"价格\" width=\"100\" align=\"center\">\n          <template v-slot=\"scope\">\n            <span class=\"price-text\">￥{{ scope.row.price }}</span>\n          </template>\n        </el-table-column>\n\n        <!-- 库存列 -->\n        <el-table-column label=\"库存\" width=\"100\" align=\"center\">\n          <template v-slot=\"scope\">\n            <span>{{ scope.row.stock }} 件</span>\n          </template>\n        </el-table-column>\n\n        <!-- 上架状态列 -->\n        <el-table-column prop=\"saleStatus\" label=\"上架状态\" width=\"100\" align=\"center\">\n          <template v-slot=\"scope\">\n            <el-tag :type=\"scope.row.saleStatus === '上架' ? 'success' : 'info'\">\n              {{ scope.row.saleStatus }}\n            </el-tag>\n          </template>\n        </el-table-column>\n\n        <!-- 审核状态列 -->\n        <el-table-column prop=\"status\" label=\"审核状态\" width=\"100\" align=\"center\">\n          <template v-slot=\"scope\">\n            <el-tag\n              :type=\"scope.row.status === '通过' ? 'success' : (scope.row.status === '拒绝' ? 'danger' : 'info')\"\n            >\n              {{ scope.row.status }}\n            </el-tag>\n          </template>\n        </el-table-column>\n\n        <!-- 浏览量列 -->\n        <el-table-column prop=\"readCount\" label=\"浏览量\" width=\"100\" align=\"center\" />\n\n        <!-- 操作列 -->\n        <el-table-column label=\"操作\" align=\"center\" width=\"160\">\n          <template v-slot=\"scope\">\n            <div class=\"btn-group\">\n              <el-tooltip content=\"编辑商品\" placement=\"top\">\n                <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleEdit(scope.row)\" />\n              </el-tooltip>\n              <el-tooltip content=\"删除商品\" placement=\"top\">\n                <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" @click=\"del(scope.row.id)\" />\n              </el-tooltip>\n              <el-tooltip content=\"修改库存\" placement=\"top\">\n                <el-button size=\"mini\" icon=\"el-icon-s-tools\" @click=\"openStockDialog(scope.row)\" />\n              </el-tooltip>\n              <el-tooltip :content=\"scope.row.saleStatus === '上架' ? '点击下架' : '点击上架'\" placement=\"top\">\n                <el-button\n                  size=\"mini\"\n                  :type=\"scope.row.saleStatus === '上架' ? 'warning' : 'success'\"\n                  @click=\"toggleStatus(scope.row)\"\n                >\n                  {{ scope.row.saleStatus === '上架' ? '下架' : '上架' }}\n                </el-button>\n              </el-tooltip>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- Pagination -->\n      <div class=\"pagination-bar\">\n        <el-pagination\n          background\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"pageNum\"\n          :page-size=\"pageSize\"\n          layout=\"total, prev, pager, next\"\n          :total=\"total\"\n        />\n      </div>\n    </el-card>\n\n    <!-- 修改库存弹窗 -->\n    <el-dialog\n      title=\"修改库存\"\n      :visible.sync=\"stockDialogVisible\"\n      width=\"400px\"\n      :close-on-click-modal=\"false\"\n    >\n      <div class=\"stock-input\">\n        <el-input-number v-model=\"tempStock\" :min=\"0\" controls-position=\"right\" style=\"width: 100%\" />\n      </div>\n      <div class=\"dialog-footer\">\n        <el-button @click=\"stockDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmUpdateStock\">确认修改</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"FrontGoods\",\n  data() {\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      stockDialogVisible: false,\n      currentRow: null,\n      tempStock: 0,\n    };\n  },\n  created() {\n    this.load(1);\n  },\n  methods: {\n    handleEdit(row) {\n      this.$router.push('/front/addGoods?id=' + row.id);\n    },\n    del(id) {\n      this.$confirm('您确定删除该商品吗？', '确认操作', { type: 'warning' }).then(() => {\n        this.$request.delete('/goods/delete/' + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success('删除成功');\n            this.load(1);\n          } else {\n            this.$message.error(res.msg);\n          }\n        });\n      }).catch(() => {});\n    },\n    toggleStatus(row) {\n      const newStatus = row.saleStatus === '上架' ? '下架' : '上架';\n      this.$request.post('/goods/updateStockAndSaleStatus', {\n        id: row.id,\n        stock: row.stock,\n        saleStatus: newStatus\n      }).then(res => {\n        if (res.code === '200') {\n          row.saleStatus = newStatus;\n          this.$message.success(`已${newStatus}`);\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    openStockDialog(row) {\n      this.currentRow = row;\n      this.tempStock = row.stock;\n      this.stockDialogVisible = true;\n    },\n    confirmUpdateStock() {\n      this.$request.post('/goods/updateStockAndSaleStatus', {\n        id: this.currentRow.id,\n        stock: this.tempStock,\n        saleStatus: this.currentRow.saleStatus\n      }).then(res => {\n        if (res.code === '200') {\n          this.$message.success(\"库存已更新\");\n          this.currentRow.stock = this.tempStock;\n          this.stockDialogVisible = false;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    load(pageNum) {\n      if (pageNum) this.pageNum = pageNum;\n      this.$request.get('/goods/selectPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data?.list || [];\n          this.total = res.data?.total;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    handleCurrentChange(pageNum) {\n      this.load(pageNum);\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* Container Styling */\n.goods-container {\n  width: 90%;\n  max-width: 1400px;\n  margin: 30px auto;\n  padding: 0 20px;\n}\n\n/* Card Box Styling */\n.card-box {\n  padding: 25px;\n  border-radius: 16px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) !important;\n  background: #fff;\n}\n\n/* Table Styling */\n:deep(.el-table) {\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n:deep(.el-table th) {\n  background-color: #fafafa;\n  color: #333;\n  font-weight: 500;\n  padding: 12px 0;\n  font-size: 14px;\n}\n\n:deep(.el-table td) {\n  padding: 16px 0;\n}\n\n:deep(.el-table--striped .el-table__body tr.el-table__row--striped td) {\n  background: #fafafa;\n}\n\n:deep(.el-table--border) {\n  border-color: #f0f0f0;\n}\n\n:deep(.el-table--border th), :deep(.el-table--border td) {\n  border-color: #f0f0f0;\n}\n\n/* Price Text Styling */\n.price-text {\n  color: #ff4d4f;\n  font-weight: 500;\n  font-size: 15px;\n}\n\n/* Status Tag Styling */\n:deep(.el-tag) {\n  padding: 4px 12px;\n  border-radius: 4px;\n  font-weight: 500;\n}\n\n:deep(.el-tag--success) {\n  background: rgba(82, 196, 26, 0.1);\n  border-color: rgba(82, 196, 26, 0.2);\n  color: #52c41a;\n}\n\n:deep(.el-tag--info) {\n  background: rgba(0, 0, 0, 0.04);\n  border-color: rgba(0, 0, 0, 0.08);\n  color: #666;\n}\n\n/* Button Group Styling */\n.btn-group {\n  display: flex;\n  gap: 8px;\n  justify-content: center;\n  align-items: center;\n}\n\n:deep(.el-button--mini) {\n  padding: 6px 12px;\n  border-radius: 4px;\n  transition: all 0.3s;\n}\n\n:deep(.el-button--mini:hover) {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* Operation Buttons Styling */\n:deep(.el-button--primary) {\n  background: #1890ff;\n  border-color: #1890ff;\n}\n\n:deep(.el-button--primary:hover) {\n  background: #40a9ff;\n  border-color: #40a9ff;\n  box-shadow: 0 2px 8px rgba(24, 144, 255, 0.2);\n}\n\n:deep(.el-button--danger) {\n  background: #ff4d4f;\n  border-color: #ff4d4f;\n  color: #fff;\n}\n\n:deep(.el-button--danger:hover) {\n  background: #ff7875;\n  border-color: #ff7875;\n  box-shadow: 0 2px 8px rgba(255, 77, 79, 0.2);\n}\n\n:deep(.el-button--warning) {\n  background: #faad14;\n  border-color: #faad14;\n  color: #fff;\n}\n\n:deep(.el-button--warning:hover) {\n  background: #ffc53d;\n  border-color: #ffc53d;\n  box-shadow: 0 2px 8px rgba(250, 173, 20, 0.2);\n}\n\n:deep(.el-button--success) {\n  background: #52c41a;\n  border-color: #52c41a;\n  color: #fff;\n}\n\n:deep(.el-button--success:hover) {\n  background: #73d13d;\n  border-color: #73d13d;\n  box-shadow: 0 2px 8px rgba(82, 196, 26, 0.2);\n}\n\n/* Pagination Bar Styling */\n.pagination-bar {\n  margin-top: 25px;\n  text-align: center;\n  padding: 10px 0;\n}\n\n:deep(.el-pagination.is-background .el-pager li:not(.disabled).active) {\n  background-color: #1890ff;\n  color: #fff;\n}\n\n:deep(.el-pagination.is-background .el-pager li:not(.disabled):hover) {\n  color: #1890ff;\n}\n\n/* Stock Dialog Styling */\n:deep(.el-dialog) {\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n:deep(.el-dialog__header) {\n  background: #fafafa;\n  padding: 15px 20px;\n  margin: 0;\n}\n\n:deep(.el-dialog__title) {\n  font-size: 16px;\n  font-weight: 500;\n  color: #333;\n}\n\n:deep(.el-dialog__body) {\n  padding: 30px 20px;\n}\n\n.stock-input {\n  margin-bottom: 25px;\n}\n\n:deep(.el-input-number) {\n  width: 100%;\n}\n\n:deep(.el-input-number__increase), :deep(.el-input-number__decrease) {\n  background-color: #fafafa;\n  border-color: #e8e8e8;\n  color: #666;\n}\n\n.dialog-footer {\n  text-align: right;\n  padding-top: 10px;\n}\n\n/* Empty State Styling */\n:deep(.el-table__empty-block) {\n  min-height: 200px;\n}\n\n:deep(.el-table__empty-text) {\n  color: #999;\n  font-size: 14px;\n}\n</style>\n"],"mappings":";AA+GA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;MACAC,kBAAA;MACAC,UAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAC,WAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,yBAAAF,GAAA,CAAAG,EAAA;IACA;IACAC,IAAAD,EAAA;MACA,KAAAE,QAAA;QAAAC,IAAA;MAAA,GAAAC,IAAA;QACA,KAAAC,QAAA,CAAAC,MAAA,oBAAAN,EAAA,EAAAI,IAAA,CAAAG,GAAA;UACA,IAAAA,GAAA,CAAAC,IAAA;YACA,KAAAC,QAAA,CAAAC,OAAA;YACA,KAAAhB,IAAA;UACA;YACA,KAAAe,QAAA,CAAAE,KAAA,CAAAJ,GAAA,CAAAK,GAAA;UACA;QACA;MACA,GAAAC,KAAA;IACA;IACAC,aAAAjB,GAAA;MACA,MAAAkB,SAAA,GAAAlB,GAAA,CAAAmB,UAAA;MACA,KAAAX,QAAA,CAAAY,IAAA;QACAjB,EAAA,EAAAH,GAAA,CAAAG,EAAA;QACAkB,KAAA,EAAArB,GAAA,CAAAqB,KAAA;QACAF,UAAA,EAAAD;MACA,GAAAX,IAAA,CAAAG,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAX,GAAA,CAAAmB,UAAA,GAAAD,SAAA;UACA,KAAAN,QAAA,CAAAC,OAAA,KAAAK,SAAA;QACA;UACA,KAAAN,QAAA,CAAAE,KAAA,CAAAJ,GAAA,CAAAK,GAAA;QACA;MACA;IACA;IACAO,gBAAAtB,GAAA;MACA,KAAAN,UAAA,GAAAM,GAAA;MACA,KAAAL,SAAA,GAAAK,GAAA,CAAAqB,KAAA;MACA,KAAA5B,kBAAA;IACA;IACA8B,mBAAA;MACA,KAAAf,QAAA,CAAAY,IAAA;QACAjB,EAAA,OAAAT,UAAA,CAAAS,EAAA;QACAkB,KAAA,OAAA1B,SAAA;QACAwB,UAAA,OAAAzB,UAAA,CAAAyB;MACA,GAAAZ,IAAA,CAAAG,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAnB,UAAA,CAAA2B,KAAA,QAAA1B,SAAA;UACA,KAAAF,kBAAA;QACA;UACA,KAAAmB,QAAA,CAAAE,KAAA,CAAAJ,GAAA,CAAAK,GAAA;QACA;MACA;IACA;IACAlB,KAAAP,OAAA;MACA,IAAAA,OAAA,OAAAA,OAAA,GAAAA,OAAA;MACA,KAAAkB,QAAA,CAAAgB,GAAA;QACAC,MAAA;UACAnC,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA;QACA;MACA,GAAAgB,IAAA,CAAAG,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAtB,SAAA,GAAAqB,GAAA,CAAAtB,IAAA,EAAAsC,IAAA;UACA,KAAAlC,KAAA,GAAAkB,GAAA,CAAAtB,IAAA,EAAAI,KAAA;QACA;UACA,KAAAoB,QAAA,CAAAE,KAAA,CAAAJ,GAAA,CAAAK,GAAA;QACA;MACA;IACA;IACAY,oBAAArC,OAAA;MACA,KAAAO,IAAA,CAAAP,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}')\n    };\n  },\n  mounted() {\n    const pieChart = echarts.init(document.getElementById('pie'));\n    const pictorialChart = echarts.init(document.getElementById('pictorial'));\n    const categoryPieChart = echarts.init(document.getElementById('categoryPie'));\n\n    // 商品销售额饼图\n    this.$request.get('/orders/selectLine').then(res => {\n      const data = res.data || [];\n      const pieData = data.map(v => ({\n        name: v.name,\n        value: v.value\n      }));\n      const pieOption = {\n        title: {\n          text: '商品销售额占比',\n          subtext: '饼图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [{\n          name: '销售额',\n          type: 'pie',\n          radius: '60%',\n          data: pieData,\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      };\n      pieChart.setOption(pieOption);\n    });\n\n    // 商家销售额象形图\n    this.$request.get('/orders/selectBar').then(res => {\n      const data = res.data || [];\n      const pictorialOption = {\n        title: {\n          text: '商家销售额排行榜',\n          subtext: '象形柱状图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: data.map(v => v.name),\n          axisTick: {\n            alignWithLabel: true\n          }\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          name: '销售额',\n          type: 'pictorialBar',\n          symbol: 'rect',\n          symbolSize: ['50%', '80%'],\n          symbolRepeat: true,\n          symbolMargin: 2,\n          data: data.map(v => v.value),\n          itemStyle: {\n            color: '#5B8FF9'\n          }\n        }]\n      };\n      pictorialChart.setOption(pictorialOption);\n    });\n\n    // 商品种类销售数量玫瑰图\n    this.$request.get('/orders/selectCategorySalesCount').then(res => {\n      const data = res.data || [];\n      const categoryOption = {\n        title: {\n          text: '商品种类销售数量占比',\n          subtext: '玫瑰图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          bottom: 10,\n          left: 'center'\n        },\n        series: [{\n          name: '销售数量',\n          type: 'pie',\n          radius: ['30%', '70%'],\n          center: ['50%', '50%'],\n          roseType: 'area',\n          data: data.map(item => ({\n            value: item.value,\n            name: item.name\n          }))\n        }]\n      };\n      categoryPieChart.setOption(categoryOption);\n    });\n  }\n};","map":{"version":3,"names":["echarts","name","data","user","JSON","parse","localStorage","getItem","mounted","pieChart","init","document","getElementById","pictorialChart","categoryPieChart","$request","get","then","res","pieData","map","v","value","pieOption","title","text","subtext","left","tooltip","trigger","legend","orient","series","type","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","setOption","pictorialOption","axisPointer","xAxis","axisTick","alignWithLabel","yAxis","symbol","symbolSize","symbolRepeat","symbolMargin","color","categoryOption","bottom","center","roseType","item"],"sources":["src/views/manager/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"card\" style=\"padding: 15px\">\n      您好，{{ user?.name }}！欢迎使用本系统\n    </div>\n\n    <div style=\"display: flex; grid-gap: 10px; margin: 10px 0\">\n      <div style=\"flex: 1; height: 500px\" id=\"pie\" class=\"card\"></div>\n      <div style=\"flex: 1; height: 500px\" id=\"pictorial\" class=\"card\"></div>\n    </div>\n\n    <!-- 新增图表：商品种类销售数量占比 -->\n    <div style=\"margin-top: 20px\">\n      <div id=\"categoryPie\" class=\"card\" style=\"height: 500px\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n    }\n  },\n  mounted() {\n    const pieChart = echarts.init(document.getElementById('pie'))\n    const pictorialChart = echarts.init(document.getElementById('pictorial'))\n    const categoryPieChart = echarts.init(document.getElementById('categoryPie'))\n\n    // 商品销售额饼图\n    this.$request.get('/orders/selectLine').then(res => {\n      const data = res.data || []\n      const pieData = data.map(v => ({\n        name: v.name,\n        value: v.value\n      }))\n\n      const pieOption = {\n        title: {\n          text: '商品销售额占比',\n          subtext: '饼图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [\n          {\n            name: '销售额',\n            type: 'pie',\n            radius: '60%',\n            data: pieData,\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      }\n\n      pieChart.setOption(pieOption)\n    })\n\n    // 商家销售额象形图\n    this.$request.get('/orders/selectBar').then(res => {\n      const data = res.data || []\n      const pictorialOption = {\n        title: {\n          text: '商家销售额排行榜',\n          subtext: '象形柱状图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: data.map(v => v.name),\n          axisTick: {\n            alignWithLabel: true\n          }\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [\n          {\n            name: '销售额',\n            type: 'pictorialBar',\n            symbol: 'rect',\n            symbolSize: ['50%', '80%'],\n            symbolRepeat: true,\n            symbolMargin: 2,\n            data: data.map(v => v.value),\n            itemStyle: {\n              color: '#5B8FF9'\n            }\n          }\n        ]\n      }\n\n      pictorialChart.setOption(pictorialOption)\n    })\n\n    // 商品种类销售数量玫瑰图\n    this.$request.get('/orders/selectCategorySalesCount').then(res => {\n      const data = res.data || []\n      const categoryOption = {\n        title: {\n          text: '商品种类销售数量占比',\n          subtext: '玫瑰图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          bottom: 10,\n          left: 'center'\n        },\n        series: [\n          {\n            name: '销售数量',\n            type: 'pie',\n            radius: ['30%', '70%'],\n            center: ['50%', '50%'],\n            roseType: 'area',\n            data: data.map(item => ({\n              value: item.value,\n              name: item.name\n            }))\n          }\n        ]\n      }\n\n      categoryPieChart.setOption(categoryOption)\n    })\n  }\n}\n</script>\n"],"mappings":"AAmBA,YAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,MAAAC,QAAA,GAAAT,OAAA,CAAAU,IAAA,CAAAC,QAAA,CAAAC,cAAA;IACA,MAAAC,cAAA,GAAAb,OAAA,CAAAU,IAAA,CAAAC,QAAA,CAAAC,cAAA;IACA,MAAAE,gBAAA,GAAAd,OAAA,CAAAU,IAAA,CAAAC,QAAA,CAAAC,cAAA;;IAEA;IACA,KAAAG,QAAA,CAAAC,GAAA,uBAAAC,IAAA,CAAAC,GAAA;MACA,MAAAhB,IAAA,GAAAgB,GAAA,CAAAhB,IAAA;MACA,MAAAiB,OAAA,GAAAjB,IAAA,CAAAkB,GAAA,CAAAC,CAAA;QACApB,IAAA,EAAAoB,CAAA,CAAApB,IAAA;QACAqB,KAAA,EAAAD,CAAA,CAAAC;MACA;MAEA,MAAAC,SAAA;QACAC,KAAA;UACAC,IAAA;UACAC,OAAA;UACAC,IAAA;QACA;QACAC,OAAA;UACAC,OAAA;QACA;QACAC,MAAA;UACAC,MAAA;UACAJ,IAAA;QACA;QACAK,MAAA,GACA;UACA/B,IAAA;UACAgC,IAAA;UACAC,MAAA;UACAhC,IAAA,EAAAiB,OAAA;UACAgB,QAAA;YACAC,SAAA;cACAC,UAAA;cACAC,aAAA;cACAC,WAAA;YACA;UACA;QACA;MAEA;MAEA9B,QAAA,CAAA+B,SAAA,CAAAjB,SAAA;IACA;;IAEA;IACA,KAAAR,QAAA,CAAAC,GAAA,sBAAAC,IAAA,CAAAC,GAAA;MACA,MAAAhB,IAAA,GAAAgB,GAAA,CAAAhB,IAAA;MACA,MAAAuC,eAAA;QACAjB,KAAA;UACAC,IAAA;UACAC,OAAA;UACAC,IAAA;QACA;QACAC,OAAA;UACAC,OAAA;UACAa,WAAA;YACAT,IAAA;UACA;QACA;QACAU,KAAA;UACAV,IAAA;UACA/B,IAAA,EAAAA,IAAA,CAAAkB,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAApB,IAAA;UACA2C,QAAA;YACAC,cAAA;UACA;QACA;QACAC,KAAA;UACAb,IAAA;QACA;QACAD,MAAA,GACA;UACA/B,IAAA;UACAgC,IAAA;UACAc,MAAA;UACAC,UAAA;UACAC,YAAA;UACAC,YAAA;UACAhD,IAAA,EAAAA,IAAA,CAAAkB,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAC,KAAA;UACAc,SAAA;YACAe,KAAA;UACA;QACA;MAEA;MAEAtC,cAAA,CAAA2B,SAAA,CAAAC,eAAA;IACA;;IAEA;IACA,KAAA1B,QAAA,CAAAC,GAAA,qCAAAC,IAAA,CAAAC,GAAA;MACA,MAAAhB,IAAA,GAAAgB,GAAA,CAAAhB,IAAA;MACA,MAAAkD,cAAA;QACA5B,KAAA;UACAC,IAAA;UACAC,OAAA;UACAC,IAAA;QACA;QACAC,OAAA;UACAC,OAAA;QACA;QACAC,MAAA;UACAuB,MAAA;UACA1B,IAAA;QACA;QACAK,MAAA,GACA;UACA/B,IAAA;UACAgC,IAAA;UACAC,MAAA;UACAoB,MAAA;UACAC,QAAA;UACArD,IAAA,EAAAA,IAAA,CAAAkB,GAAA,CAAAoC,IAAA;YACAlC,KAAA,EAAAkC,IAAA,CAAAlC,KAAA;YACArB,IAAA,EAAAuD,IAAA,CAAAvD;UACA;QACA;MAEA;MAEAa,gBAAA,CAAA0B,SAAA,CAAAY,cAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
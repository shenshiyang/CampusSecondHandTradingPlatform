{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Manager',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      defaultAvatar: 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png',\n      openMenus: ['info', 'user']\n    };\n  },\n  computed: {\n    /** 激活菜单 */\n    activeMenu() {\n      return this.$route.path;\n    }\n  },\n  created() {\n    if (!this.user.id) this.$router.push('/login');\n  },\n  methods: {\n    /** 同步最新用户信息 */\n    syncUser() {\n      this.user = JSON.parse(localStorage.getItem('xm-user') || '{}');\n    },\n    /** 进入个人信息 */\n    goToPerson() {\n      if (this.user.role === 'ADMIN') this.$router.push('/adminPerson');\n    },\n    /** 退出登录 */\n    logout() {\n      localStorage.removeItem('xm-user');\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","JSON","parse","localStorage","getItem","defaultAvatar","openMenus","computed","activeMenu","$route","path","created","id","$router","push","methods","syncUser","goToPerson","role","logout","removeItem"],"sources":["src/views/Manager.vue"],"sourcesContent":["<template>\n  <div class=\"manager-layout\">\n    <!-- ▍固定头部 -->\n    <header class=\"manager-header\">\n      <!-- Logo / 标题 -->\n      <router-link to=\"/home\" class=\"header__logo\">\n        <img src=\"@/assets/imgs/logo.png\" alt=\"logo\" class=\"logo__img\" />\n        <h1 class=\"logo__text\">二手交易后台管理</h1>\n      </router-link>\n\n      <!-- 面包屑 -->\n      <el-breadcrumb class=\"header__crumb\" separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item :to=\"{ path: $route.path }\">\n          {{ $route.meta.name }}\n        </el-breadcrumb-item>\n      </el-breadcrumb>\n\n      <!-- 用户下拉 -->\n      <el-dropdown placement=\"bottom\" class=\"header__user\">\n        <span class=\"user-info\">\n          <img\n            :src=\"user.avatar || defaultAvatar\"\n            class=\"user-info__avatar\"\n          />\n          <span class=\"user-info__name\">{{ user.name }}</span>\n          <i class=\"el-icon-arrow-down\" />\n        </span>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item @click.native=\"goToPerson\">个人信息</el-dropdown-item>\n          <el-dropdown-item @click.native=\"$router.push('/password')\">\n            修改密码\n          </el-dropdown-item>\n          <el-dropdown-item divided @click.native=\"logout\">退出登录</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </header>\n\n    <!-- ▍主体 -->\n    <section class=\"manager-main\">\n      <!-- 侧边菜单 -->\n      <aside class=\"main__aside\">\n        <el-menu\n          :default-openeds=\"openMenus\"\n          :default-active=\"activeMenu\"\n          router\n          class=\"aside-menu\"\n        >\n          <el-menu-item index=\"/home\">\n            <i class=\"el-icon-s-home\" />\n            <span slot=\"title\">系统首页</span>\n          </el-menu-item>\n\n          <!-- 信息管理 -->\n          <el-submenu index=\"info\">\n            <template #title>\n              <i class=\"el-icon-menu\" /><span>信息管理</span>\n            </template>\n            <el-menu-item index=\"/category\">分类信息</el-menu-item>\n            <el-menu-item index=\"/goods\">商品信息</el-menu-item>\n            <el-menu-item index=\"/circles\">圈子信息</el-menu-item>\n            <el-menu-item index=\"/posts\">社区帖子</el-menu-item>\n            <el-menu-item index=\"/help\">求助信息</el-menu-item>\n            <el-menu-item index=\"/address\">收货地址</el-menu-item>\n            <el-menu-item index=\"/feedback\">用户反馈</el-menu-item>\n            <el-menu-item index=\"/notice\">公告信息</el-menu-item>\n            <el-menu-item index=\"/comment\">评论信息</el-menu-item>\n          </el-submenu>\n\n          <!-- 用户管理 -->\n          <el-submenu index=\"user\">\n            <template #title>\n              <i class=\"el-icon-menu\" /><span>用户管理</span>\n            </template>\n            <el-menu-item index=\"/admin\">管理员信息</el-menu-item>\n            <el-menu-item index=\"/user\">用户信息</el-menu-item>\n          </el-submenu>\n        </el-menu>\n      </aside>\n\n      <!-- 业务视图 -->\n      <main class=\"main__content\">\n        <router-view @update:user=\"syncUser\" />\n      </main>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Manager',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      defaultAvatar:\n        'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png',\n      openMenus: ['info', 'user']\n    }\n  },\n  computed: {\n    /** 激活菜单 */\n    activeMenu() {\n      return this.$route.path\n    }\n  },\n  created() {\n    if (!this.user.id) this.$router.push('/login')\n  },\n  methods: {\n    /** 同步最新用户信息 */\n    syncUser() {\n      this.user = JSON.parse(localStorage.getItem('xm-user') || '{}')\n    },\n    /** 进入个人信息 */\n    goToPerson() {\n      if (this.user.role === 'ADMIN') this.$router.push('/adminPerson')\n    },\n    /** 退出登录 */\n    logout() {\n      localStorage.removeItem('xm-user')\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n/* 全局颜色变量可提取到全局 SCSS */\n:root {\n  --header-height: 60px;\n  --aside-width: 200px;\n  --primary: #409eff;\n}\n\n/* ---------- 布局 ---------- */\n.manager-layout {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.manager-header {\n  display: flex;\n  align-items: center;\n  height: var(--header-height);\n  background: var(--primary);\n  color: #fff;\n  padding: 0 20px;\n}\n\n/* Logo */\n.header__logo {\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  color: inherit;\n\n  .logo__img {\n    width: 34px;\n    margin-right: 6px;\n  }\n  .logo__text {\n    font-size: 18px;\n    font-weight: 600;\n  }\n}\n\n/* 面包屑 */\n.header__crumb {\n  margin-left: 34px;\n  flex: 1;\n}\n\n/* 用户 */\n.header__user {\n  .user-info {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &__avatar {\n      width: 32px;\n      height: 32px;\n      border-radius: 50%;\n      margin-right: 6px;\n      object-fit: cover;\n    }\n    &__name {\n      margin-right: 4px;\n    }\n  }\n}\n\n.manager-main {\n  flex: 1;\n  display: flex;\n  background: #f5f6f7;\n}\n\n/* ---------- 侧边栏 ---------- */\n.main__aside {\n  width: var(--aside-width);\n  overflow-y: auto;\n  background: #fff;\n  box-shadow: 0 2px 8px rgb(0 0 0 / 8%);\n}\n\n.aside-menu {\n  border-right: none;\n}\n\n/* ---------- 右侧内容 ---------- */\n.main__content {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n}\n</style>\n"],"mappings":";AAyFA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,aAAA,EACA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA;IACAC,WAAA;MACA,YAAAC,MAAA,CAAAC,IAAA;IACA;EACA;EACAC,QAAA;IACA,UAAAX,IAAA,CAAAY,EAAA,OAAAC,OAAA,CAAAC,IAAA;EACA;EACAC,OAAA;IACA;IACAC,SAAA;MACA,KAAAhB,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;IACA;IACAa,WAAA;MACA,SAAAjB,IAAA,CAAAkB,IAAA,mBAAAL,OAAA,CAAAC,IAAA;IACA;IACA;IACAK,OAAA;MACAhB,YAAA,CAAAiB,UAAA;MACA,KAAAP,OAAA,CAAAC,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
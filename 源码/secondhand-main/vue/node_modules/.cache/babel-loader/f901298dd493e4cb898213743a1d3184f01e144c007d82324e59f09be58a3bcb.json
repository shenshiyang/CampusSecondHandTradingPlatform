{"ast":null,"code":"export default {\n  name: 'Address',\n  data() {\n    const phoneReg = /^1\\d{10}$/;\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      dialogVisible: false,\n      form: {},\n      btnLoading: false,\n      ids: [],\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入联系人',\n          trigger: 'blur'\n        }],\n        address: [{\n          required: true,\n          message: '请输入联系地址',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入联系电话',\n          trigger: 'blur'\n        }, {\n          pattern: phoneReg,\n          message: '手机号格式不正确',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    /* ---------- 数据 ---------- */\n    async load(page = this.pageNum) {\n      this.pageNum = page;\n      const res = await this.$request.get('/address/selectPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }\n      });\n      if (res.code === '200') {\n        this.tableData = res.data.list;\n        this.total = res.data.total;\n      } else {\n        this.$message.error(res.msg);\n      }\n    },\n    /* ---------- 新增 / 编辑 ---------- */\n    handleAdd() {\n      this.form = {};\n      this.dialogVisible = true;\n    },\n    handleEdit(row) {\n      this.form = {\n        ...row\n      };\n      this.dialogVisible = true;\n    },\n    async save() {\n      this.$refs.formRef.validate(async valid => {\n        if (!valid) return;\n        this.btnLoading = true;\n        const isUpdate = !!this.form.id;\n        const res = await this.$request({\n          url: isUpdate ? '/address/update' : '/address/add',\n          method: isUpdate ? 'PUT' : 'POST',\n          data: this.form\n        });\n        this.btnLoading = false;\n        if (res.code === '200') {\n          this.$message.success('操作成功');\n          this.dialogVisible = false;\n          this.load(1);\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    /* ---------- 删除 ---------- */\n    del(id) {\n      this.$confirm('确定删除该地址吗？', '提示', {\n        type: 'warning'\n      }).then(() => this.$request.delete('/address/delete/' + id)).then(({\n        code,\n        msg\n      }) => {\n        code === '200' ? (this.$message.success('删除成功'), this.load(1)) : this.$message.error(msg);\n      }).catch(() => {});\n    },\n    handleSelectionChange(rows) {\n      this.ids = rows.map(v => v.id);\n    },\n    delBatch() {\n      if (!this.ids.length) return this.$message.warning('请选择数据');\n      this.$confirm('确认批量删除所选地址吗？', '提示', {\n        type: 'warning'\n      }).then(() => this.$request.delete('/address/delete/batch', {\n        data: this.ids\n      })).then(({\n        code,\n        msg\n      }) => {\n        code === '200' ? (this.$message.success('删除成功'), this.load(1)) : this.$message.error(msg);\n      }).catch(() => {});\n    },\n    /* ---------- 分页 ---------- */\n    handleCurrentChange(page) {\n      this.load(page);\n    }\n  }\n};","map":{"version":3,"names":["name","data","phoneReg","tableData","pageNum","pageSize","total","dialogVisible","form","btnLoading","ids","rules","required","message","trigger","address","phone","pattern","created","load","methods","page","res","$request","get","params","code","list","$message","error","msg","handleAdd","handleEdit","row","save","$refs","formRef","validate","valid","isUpdate","id","url","method","success","del","$confirm","type","then","delete","catch","handleSelectionChange","rows","map","v","delBatch","length","warning","handleCurrentChange"],"sources":["src/views/front/Address.vue"],"sourcesContent":["<template>\n  <div class=\"address-page\">\n    <!-- ▍操作栏 -->\n    <div class=\"toolbar\">\n      <el-button type=\"primary\" size=\"mini\" @click=\"handleAdd\">新增</el-button>\n      <el-button type=\"danger\"  size=\"mini\" @click=\"delBatch\">批量删除</el-button>\n    </div>\n\n    <!-- ▍地址表格 -->\n    <el-card shadow=\"never\">\n      <el-table\n        :data=\"tableData\"\n        stripe\n        border\n        highlight-current-row\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column type=\"selection\" width=\"50\" align=\"center\" />\n        <el-table-column prop=\"id\" label=\"序号\" width=\"70\" align=\"center\" sortable />\n        <el-table-column prop=\"name\" label=\"联系人\" min-width=\"120\" />\n        <el-table-column prop=\"address\" label=\"联系地址\" min-width=\"200\" show-overflow-tooltip />\n        <el-table-column prop=\"phone\" label=\"联系电话\" min-width=\"140\" />\n        <el-table-column label=\"操作\" width=\"180\" align=\"center\">\n          <template #default=\"scope\">\n            <el-button\n              size=\"mini\"\n              type=\"primary\"\n              plain\n              @click=\"handleEdit(scope.row)\"\n            >编辑</el-button>\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              plain\n              @click=\"del(scope.row.id)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-pagination\n        class=\"pager\"\n        background\n        :current-page=\"pageNum\"\n        :page-size=\"pageSize\"\n        :total=\"total\"\n        :page-sizes=\"[5, 10, 20]\"\n        layout=\"total, prev, pager, next\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </el-card>\n\n    <!-- ▍弹窗表单 -->\n    <el-dialog\n      title=\"收货地址\"\n      :visible.sync=\"dialogVisible\"\n      width=\"480px\"\n      :close-on-click-modal=\"false\"\n      destroy-on-close\n    >\n      <el-form\n        ref=\"formRef\"\n        :model=\"form\"\n        :rules=\"rules\"\n        label-width=\"80px\"\n      >\n        <el-form-item label=\"联系人\" prop=\"name\">\n          <el-input v-model.trim=\"form.name\" clearable placeholder=\"联系人\" />\n        </el-form-item>\n\n        <el-form-item label=\"联系地址\" prop=\"address\">\n          <el-input v-model.trim=\"form.address\" clearable placeholder=\"联系地址\" />\n        </el-form-item>\n\n        <el-form-item label=\"联系电话\" prop=\"phone\">\n          <el-input v-model.trim=\"form.phone\" clearable placeholder=\"联系电话\" />\n        </el-form-item>\n      </el-form>\n\n      <template #footer>\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          :loading=\"btnLoading\"\n          @click=\"save\"\n        >确 定</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Address',\n  data() {\n    const phoneReg = /^1\\d{10}$/\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      dialogVisible: false,\n      form: {},\n      btnLoading: false,\n      ids: [],\n      rules: {\n        name: [{ required: true, message: '请输入联系人', trigger: 'blur' }],\n        address: [{ required: true, message: '请输入联系地址', trigger: 'blur' }],\n        phone: [\n          { required: true, message: '请输入联系电话', trigger: 'blur' },\n          { pattern: phoneReg, message: '手机号格式不正确', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created() {\n    this.load()\n  },\n  methods: {\n    /* ---------- 数据 ---------- */\n    async load(page = this.pageNum) {\n      this.pageNum = page\n      const res = await this.$request.get('/address/selectPage', {\n        params: { pageNum: this.pageNum, pageSize: this.pageSize }\n      })\n      if (res.code === '200') {\n        this.tableData = res.data.list\n        this.total = res.data.total\n      } else {\n        this.$message.error(res.msg)\n      }\n    },\n\n    /* ---------- 新增 / 编辑 ---------- */\n    handleAdd() {\n      this.form = { }\n      this.dialogVisible = true\n    },\n    handleEdit(row) {\n      this.form = { ...row }\n      this.dialogVisible = true\n    },\n    async save() {\n      this.$refs.formRef.validate(async valid => {\n        if (!valid) return\n        this.btnLoading = true\n        const isUpdate = !!this.form.id\n        const res = await this.$request({\n          url: isUpdate ? '/address/update' : '/address/add',\n          method: isUpdate ? 'PUT' : 'POST',\n          data: this.form\n        })\n        this.btnLoading = false\n        if (res.code === '200') {\n          this.$message.success('操作成功')\n          this.dialogVisible = false\n          this.load(1)\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n\n    /* ---------- 删除 ---------- */\n    del(id) {\n      this.$confirm('确定删除该地址吗？', '提示', { type: 'warning' })\n        .then(() => this.$request.delete('/address/delete/' + id))\n        .then(({ code, msg }) => {\n          code === '200' ? (this.$message.success('删除成功'), this.load(1)) : this.$message.error(msg)\n        })\n        .catch(() => {})\n    },\n    handleSelectionChange(rows) {\n      this.ids = rows.map(v => v.id)\n    },\n    delBatch() {\n      if (!this.ids.length) return this.$message.warning('请选择数据')\n      this.$confirm('确认批量删除所选地址吗？', '提示', { type: 'warning' })\n        .then(() => this.$request.delete('/address/delete/batch', { data: this.ids }))\n        .then(({ code, msg }) => {\n          code === '200' ? (this.$message.success('删除成功'), this.load(1)) : this.$message.error(msg)\n        })\n        .catch(() => {})\n    },\n\n    /* ---------- 分页 ---------- */\n    handleCurrentChange(page) {\n      this.load(page)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.address-page {\n  width: 80%;\n  max-width: 1200px;\n  margin: 30px auto;\n  padding: 0 20px;\n}\n\n.toolbar {\n  margin-bottom: 20px;\n  display: flex;\n  gap: 12px;\n}\n\n.toolbar .el-button {\n  padding: 10px 20px;\n  border-radius: 6px;\n  font-weight: 500;\n  transition: all 0.3s;\n}\n\n.toolbar .el-button--primary {\n  background: #1890ff;\n  border-color: #1890ff;\n}\n\n.toolbar .el-button--primary:hover {\n  background: #40a9ff;\n  border-color: #40a9ff;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(24, 144, 255, 0.2);\n}\n\n.toolbar .el-button--danger {\n  background: #ff4d4f;\n  border-color: #ff4d4f;\n  color: #fff;\n}\n\n.toolbar .el-button--danger:hover {\n  background: #ff7875;\n  border-color: #ff7875;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(255, 77, 79, 0.2);\n}\n\n:deep(.el-card) {\n  border-radius: 12px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08) !important;\n  margin-bottom: 20px;\n}\n\n:deep(.el-table) {\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n:deep(.el-table th) {\n  background-color: #fafafa;\n  color: #333;\n  font-weight: 500;\n  padding: 12px 0;\n}\n\n:deep(.el-table td) {\n  padding: 12px 0;\n}\n\n:deep(.el-table--striped .el-table__body tr.el-table__row--striped td) {\n  background: #fafafa;\n}\n\n:deep(.el-button--mini) {\n  padding: 6px 12px;\n  border-radius: 4px;\n  transition: all 0.3s;\n}\n\n:deep(.el-button--mini:hover) {\n  transform: translateY(-1px);\n}\n\n.pager {\n  margin-top: 20px;\n  text-align: center;\n  padding: 10px 0;\n}\n\n:deep(.el-dialog) {\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n:deep(.el-dialog__header) {\n  background: #fafafa;\n  padding: 15px 20px;\n  margin: 0;\n}\n\n:deep(.el-dialog__title) {\n  font-size: 16px;\n  font-weight: 500;\n  color: #333;\n}\n\n:deep(.el-dialog__body) {\n  padding: 30px 20px;\n}\n\n:deep(.el-dialog__footer) {\n  border-top: 1px solid #f0f0f0;\n  padding: 15px 20px;\n}\n\n:deep(.el-form-item__label) {\n  font-weight: 500;\n  color: #333;\n}\n\n:deep(.el-input__inner) {\n  border-radius: 6px;\n  padding: 0 15px;\n  height: 38px;\n  line-height: 38px;\n  border-color: #e8e8e8;\n}\n\n:deep(.el-input__inner:hover) {\n  border-color: #40a9ff;\n}\n\n:deep(.el-input__inner:focus) {\n  border-color: #1890ff;\n}\n</style>\n"],"mappings":"AA4FA;EACAA,IAAA;EACAC,KAAA;IACA,MAAAC,QAAA;IACA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;MACAC,aAAA;MACAC,IAAA;MACAC,UAAA;MACAC,GAAA;MACAC,KAAA;QACAX,IAAA;UAAAY,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAC,OAAA;UAAAH,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAE,KAAA,GACA;UAAAJ,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAG,OAAA,EAAAf,QAAA;UAAAW,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAI,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACA;IACA,MAAAD,KAAAE,IAAA,QAAAjB,OAAA;MACA,KAAAA,OAAA,GAAAiB,IAAA;MACA,MAAAC,GAAA,cAAAC,QAAA,CAAAC,GAAA;QACAC,MAAA;UAAArB,OAAA,OAAAA,OAAA;UAAAC,QAAA,OAAAA;QAAA;MACA;MACA,IAAAiB,GAAA,CAAAI,IAAA;QACA,KAAAvB,SAAA,GAAAmB,GAAA,CAAArB,IAAA,CAAA0B,IAAA;QACA,KAAArB,KAAA,GAAAgB,GAAA,CAAArB,IAAA,CAAAK,KAAA;MACA;QACA,KAAAsB,QAAA,CAAAC,KAAA,CAAAP,GAAA,CAAAQ,GAAA;MACA;IACA;IAEA;IACAC,UAAA;MACA,KAAAvB,IAAA;MACA,KAAAD,aAAA;IACA;IACAyB,WAAAC,GAAA;MACA,KAAAzB,IAAA;QAAA,GAAAyB;MAAA;MACA,KAAA1B,aAAA;IACA;IACA,MAAA2B,KAAA;MACA,KAAAC,KAAA,CAAAC,OAAA,CAAAC,QAAA,OAAAC,KAAA;QACA,KAAAA,KAAA;QACA,KAAA7B,UAAA;QACA,MAAA8B,QAAA,UAAA/B,IAAA,CAAAgC,EAAA;QACA,MAAAlB,GAAA,cAAAC,QAAA;UACAkB,GAAA,EAAAF,QAAA;UACAG,MAAA,EAAAH,QAAA;UACAtC,IAAA,OAAAO;QACA;QACA,KAAAC,UAAA;QACA,IAAAa,GAAA,CAAAI,IAAA;UACA,KAAAE,QAAA,CAAAe,OAAA;UACA,KAAApC,aAAA;UACA,KAAAY,IAAA;QACA;UACA,KAAAS,QAAA,CAAAC,KAAA,CAAAP,GAAA,CAAAQ,GAAA;QACA;MACA;IACA;IAEA;IACAc,IAAAJ,EAAA;MACA,KAAAK,QAAA;QAAAC,IAAA;MAAA,GACAC,IAAA,YAAAxB,QAAA,CAAAyB,MAAA,sBAAAR,EAAA,GACAO,IAAA;QAAArB,IAAA;QAAAI;MAAA;QACAJ,IAAA,mBAAAE,QAAA,CAAAe,OAAA,eAAAxB,IAAA,YAAAS,QAAA,CAAAC,KAAA,CAAAC,GAAA;MACA,GACAmB,KAAA;IACA;IACAC,sBAAAC,IAAA;MACA,KAAAzC,GAAA,GAAAyC,IAAA,CAAAC,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAb,EAAA;IACA;IACAc,SAAA;MACA,UAAA5C,GAAA,CAAA6C,MAAA,cAAA3B,QAAA,CAAA4B,OAAA;MACA,KAAAX,QAAA;QAAAC,IAAA;MAAA,GACAC,IAAA,YAAAxB,QAAA,CAAAyB,MAAA;QAAA/C,IAAA,OAAAS;MAAA,IACAqC,IAAA;QAAArB,IAAA;QAAAI;MAAA;QACAJ,IAAA,mBAAAE,QAAA,CAAAe,OAAA,eAAAxB,IAAA,YAAAS,QAAA,CAAAC,KAAA,CAAAC,GAAA;MACA,GACAmB,KAAA;IACA;IAEA;IACAQ,oBAAApC,IAAA;MACA,KAAAF,IAAA,CAAAE,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'FrontLayout',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      menus: [{\n        text: '热卖专区',\n        path: '/front/home'\n      }, {\n        text: '社区广场',\n        path: '/front/posts'\n      }, {\n        text: '求助专区',\n        path: '/front/help'\n      }, {\n        text: '系统公告',\n        path: '/front/notice'\n      }, {\n        text: '留言反馈',\n        path: '/front/feedback'\n      }]\n    };\n  },\n  computed: {\n    /** 当前路由高亮 */\n    activePath() {\n      return this.$route.path;\n    }\n  },\n  mounted() {\n    // 多标签页同步登录状态\n    window.addEventListener('storage', this.syncUser);\n  },\n  beforeDestroy() {\n    window.removeEventListener('storage', this.syncUser);\n  },\n  methods: {\n    syncUser() {\n      this.user = JSON.parse(localStorage.getItem('xm-user') || '{}');\n    },\n    logout() {\n      localStorage.removeItem('xm-user');\n      this.syncUser();\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","JSON","parse","localStorage","getItem","menus","text","path","computed","activePath","$route","mounted","window","addEventListener","syncUser","beforeDestroy","removeEventListener","methods","logout","removeItem","$router","push"],"sources":["src/views/Front.vue"],"sourcesContent":["<template>\n  <div class=\"front-layout\">\n    <!-- ▍顶部导航 -->\n    <header class=\"front-header\">\n      <!-- LOGO -->\n      <router-link to=\"/front/home\" class=\"header__logo\">\n        <img src=\"@/assets/imgs/logo.png\" alt=\"logo\" class=\"logo__img\" />\n        <h1 class=\"logo__text\">校园二手平台</h1>\n      </router-link>\n\n      <!-- 主导航 -->\n      <nav class=\"header__nav\">\n        <span\n          v-for=\"m in menus\"\n          :key=\"m.path\"\n          class=\"nav__item\"\n          :class=\"{ 'is-active': m.path === activePath }\"\n          @click=\"$router.push(m.path)\"\n        >\n          {{ m.text }}\n        </span>\n      </nav>\n\n      <!-- 聊天 -->\n      <div class=\"header__chat\" @click=\"$router.push('/front/chat')\">\n        <i class=\"el-icon-chat-dot-round\"></i>\n        <span class=\"chat__text\">聊天消息</span>\n      </div>\n\n      <!-- 用户区 -->\n      <div class=\"header__user\">\n        <template v-if=\"!user.username\">\n          <el-button type=\"text\" @click=\"$router.push('/login')\">登录</el-button>\n          <el-button type=\"text\" @click=\"$router.push('/register')\">注册</el-button>\n        </template>\n\n        <template v-else>\n          <el-dropdown>\n            <div class=\"user-info\">\n              <img :src=\"user.avatar\" class=\"user-info__avatar\" />\n              <span>{{ user.name }}</span>\n              <i class=\"el-icon-arrow-down icon--arrow\" />\n            </div>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item @click.native=\"$router.push('/front/orders')\">我的订单</el-dropdown-item>\n              <el-dropdown-item @click.native=\"$router.push('/front/goods')\">我的商品</el-dropdown-item>\n              <el-dropdown-item @click.native=\"$router.push('/front/userPosts')\">我的发帖</el-dropdown-item>\n              <el-dropdown-item @click.native=\"$router.push('/front/userHelp')\">我的求助</el-dropdown-item>\n              <el-dropdown-item @click.native=\"$router.push('/front/userFeedback')\">我的反馈</el-dropdown-item>\n              <el-dropdown-item @click.native=\"$router.push('/front/address')\">我的地址</el-dropdown-item>\n              <el-dropdown-item @click.native=\"$router.push('/front/person')\">个人信息</el-dropdown-item>\n              <el-dropdown-item @click.native=\"$router.push('/front/collect')\">我的收藏</el-dropdown-item>\n              <el-dropdown-item divided @click.native=\"logout\">退出登录</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </template>\n      </div>\n    </header>\n\n    <!-- ▍主体 -->\n    <main class=\"front-main\">\n      <router-view ref=\"child\" @update:user=\"syncUser\" />\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FrontLayout',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      menus: [\n        { text: '热卖专区', path: '/front/home' },\n        { text: '社区广场', path: '/front/posts' },\n        { text: '求助专区', path: '/front/help' },\n        { text: '系统公告', path: '/front/notice' },\n        { text: '留言反馈', path: '/front/feedback' }\n      ]\n    }\n  },\n  computed: {\n    /** 当前路由高亮 */\n    activePath() {\n      return this.$route.path\n    }\n  },\n  mounted() {\n    // 多标签页同步登录状态\n    window.addEventListener('storage', this.syncUser)\n  },\n  beforeDestroy() {\n    window.removeEventListener('storage', this.syncUser)\n  },\n  methods: {\n    syncUser() {\n      this.user = JSON.parse(localStorage.getItem('xm-user') || '{}')\n    },\n    logout() {\n      localStorage.removeItem('xm-user')\n      this.syncUser()\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n/* -------- 变量 -------- */\n:root {\n  --header-height: 64px;\n  --blue-main: #409eff;\n  --blue-hover: #5aa1ff;\n  --yellow: #ffd04b;\n}\n\n/* -------- 布局 -------- */\n.front-layout {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background: #f8f8f8;\n}\n\n.front-header {\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  height: var(--header-height);\n  background: var(--blue-main);\n  color: #fff;\n  padding: 0 24px;\n}\n\n/* LOGO */\n.header__logo {\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  color: inherit;\n\n  .logo__img {\n    width: 38px;\n    height: 38px;\n    margin-right: 8px;\n  }\n  .logo__text {\n    font-size: 18px;\n    font-weight: 600;\n  }\n}\n\n/* 主导航 */\n.header__nav {\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  gap: 32px;\n\n  .nav__item {\n    cursor: pointer;\n    font-size: 16px;\n    transition: color 0.2s;\n\n    &.is-active,\n    &:hover {\n      color: var(--yellow);\n    }\n  }\n}\n\n/* 聊天入口 */\n.header__chat {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  margin-right: 24px;\n  font-size: 16px;\n\n  i {\n    margin-right: 4px;\n  }\n\n  &:hover {\n    color: var(--yellow);\n  }\n}\n\n/* 用户信息 */\n.header__user {\n  display: flex;\n  align-items: center;\n  .user-info {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    &__avatar {\n      width: 32px;\n      height: 32px;\n      border-radius: 50%;\n      margin-right: 6px;\n      object-fit: cover;\n    }\n    .icon--arrow {\n      margin-left: 4px;\n    }\n  }\n}\n\n/* 主体 */\n.front-main {\n  flex: 1;\n  padding: 20px 30px;\n}\n</style>\n"],"mappings":";AAmEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAC,KAAA,GACA;QAAAC,IAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,IAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,IAAA;MAAA;IAEA;EACA;EACAC,QAAA;IACA;IACAC,WAAA;MACA,YAAAC,MAAA,CAAAH,IAAA;IACA;EACA;EACAI,QAAA;IACA;IACAC,MAAA,CAAAC,gBAAA,iBAAAC,QAAA;EACA;EACAC,cAAA;IACAH,MAAA,CAAAI,mBAAA,iBAAAF,QAAA;EACA;EACAG,OAAA;IACAH,SAAA;MACA,KAAAd,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;IACAc,OAAA;MACAf,YAAA,CAAAgB,UAAA;MACA,KAAAL,QAAA;MACA,KAAAM,OAAA,CAAAC,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
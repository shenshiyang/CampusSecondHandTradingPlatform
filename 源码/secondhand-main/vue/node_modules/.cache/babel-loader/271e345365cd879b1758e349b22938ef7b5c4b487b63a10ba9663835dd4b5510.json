{"ast":null,"code":"import Comment from \"@/components/Comment\";\nexport default {\n  name: \"Help\",\n  components: {\n    Comment\n  },\n  data() {\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 5,\n      total: 0,\n      title: ''\n    };\n  },\n  created() {\n    this.load(1);\n  },\n  methods: {\n    handleCommentShow(help) {\n      this.$set(help, 'showComment', !help.showComment);\n    },\n    load(pageNum) {\n      if (pageNum) this.pageNum = pageNum;\n      this.$request.get('/help/selectFrontPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          title: this.title\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data?.list;\n          this.total = res.data?.total;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    handleCurrentChange(pageNum) {\n      this.load(pageNum);\n    }\n  }\n};","map":{"version":3,"names":["Comment","name","components","data","tableData","pageNum","pageSize","total","title","created","load","methods","handleCommentShow","help","$set","showComment","$request","get","params","then","res","code","list","$message","error","msg","handleCurrentChange"],"sources":["src/views/front/Help.vue"],"sourcesContent":["<template>\n  <div class=\"help-container\">\n    <!-- 查询栏 -->\n    <div class=\"search-bar\">\n      <el-input\n        v-model=\"title\"\n        placeholder=\"请输入标题关键字查询\"\n        clearable\n        class=\"search-input\"\n      />\n      <el-button type=\"primary\" @click=\"load(1)\">查询</el-button>\n    </div>\n\n    <!-- 求助卡片列表 -->\n    <el-card\n      class=\"help-card\"\n      v-for=\"item in tableData\"\n      :key=\"item.id\"\n    >\n      <div class=\"help-header\">\n        <img :src=\"item.avatar\" alt=\"用户头像\" class=\"user-avatar\" />\n        <div class=\"help-info\">\n          <div class=\"help-title\">\n            <strong>{{ item.title }}</strong>\n            <el-tag type=\"danger\" v-if=\"item.solved === '未解决'\">未解决</el-tag>\n            <el-tag type=\"success\" v-if=\"item.solved === '已解决'\">已解决</el-tag>\n          </div>\n          <div class=\"meta\">\n            <span>{{ item.userName }}</span>\n            <span>{{ item.time }}</span>\n          </div>\n        </div>\n      </div>\n\n      <el-image\n        class=\"help-img\"\n        :src=\"item.img\"\n        :preview-src-list=\"[item.img]\"\n        fit=\"cover\"\n        v-if=\"item.img\"\n      />\n\n      <div class=\"help-content\" v-html=\"item.content\"></div>\n\n      <el-button\n        class=\"comment-toggle-btn\"\n        type=\"primary\"\n        size=\"small\"\n        @click=\"handleCommentShow(item)\"\n      >\n        展开 / 折叠 求购评论\n      </el-button>\n\n      <div v-if=\"item.showComment\" class=\"comment-section\">\n        <Comment :fid=\"item.id\" module=\"help\" />\n      </div>\n    </el-card>\n\n    <!-- 分页 -->\n    <div class=\"pagination-wrapper\" v-if=\"total > 0\">\n      <el-pagination\n        background\n        layout=\"total, prev, pager, next\"\n        :current-page=\"pageNum\"\n        :page-size=\"pageSize\"\n        :total=\"total\"\n        :page-sizes=\"[5, 10, 20]\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Comment from \"@/components/Comment\";\nexport default {\n  name: \"Help\",\n  components: { Comment },\n  data() {\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 5,\n      total: 0,\n      title: '',\n    };\n  },\n  created() {\n    this.load(1);\n  },\n  methods: {\n    handleCommentShow(help) {\n      this.$set(help, 'showComment', !help.showComment);\n    },\n    load(pageNum) {\n      if (pageNum) this.pageNum = pageNum;\n      this.$request.get('/help/selectFrontPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          title: this.title\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data?.list;\n          this.total = res.data?.total;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    handleCurrentChange(pageNum) {\n      this.load(pageNum);\n    },\n  }\n};\n</script>\n\n<style scoped>\n.help-container {\n  width: 60%;\n  margin: 20px auto;\n}\n.search-bar {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n}\n.search-input {\n  width: 300px;\n  margin-right: 10px;\n}\n.help-card {\n  margin-bottom: 20px;\n  padding: 20px;\n}\n.help-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n}\n.user-avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 15px;\n}\n.help-info {\n  flex: 1;\n}\n.help-title {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 16px;\n  margin-bottom: 5px;\n}\n.meta {\n  color: #888;\n  font-size: 13px;\n  display: flex;\n  gap: 20px;\n}\n.help-img {\n  width: 100%;\n  max-width: 300px;\n  margin: 15px 0;\n}\n.help-content {\n  font-size: 14px;\n  color: #444;\n  margin: 10px 0 15px;\n}\n.comment-toggle-btn {\n  margin-bottom: 10px;\n}\n.pagination-wrapper {\n  text-align: center;\n  margin-top: 30px;\n}\n</style>\n"],"mappings":"AA0EA,OAAAA,OAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAC,kBAAAC,IAAA;MACA,KAAAC,IAAA,CAAAD,IAAA,kBAAAA,IAAA,CAAAE,WAAA;IACA;IACAL,KAAAL,OAAA;MACA,IAAAA,OAAA,OAAAA,OAAA,GAAAA,OAAA;MACA,KAAAW,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAb,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAE,KAAA,OAAAA;QACA;MACA,GAAAW,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAjB,SAAA,GAAAgB,GAAA,CAAAjB,IAAA,EAAAmB,IAAA;UACA,KAAAf,KAAA,GAAAa,GAAA,CAAAjB,IAAA,EAAAI,KAAA;QACA;UACA,KAAAgB,QAAA,CAAAC,KAAA,CAAAJ,GAAA,CAAAK,GAAA;QACA;MACA;IACA;IACAC,oBAAArB,OAAA;MACA,KAAAK,IAAA,CAAAL,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
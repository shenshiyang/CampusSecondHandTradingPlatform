{"ast":null,"code":"import Comment from '@/components/Comment';\nexport default {\n  name: 'Help',\n  components: {\n    Comment\n  },\n  data() {\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 5,\n      total: 0,\n      title: ''\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    /* ---------- 数据 ---------- */\n    async load(page = this.pageNum) {\n      this.pageNum = page;\n      const {\n        code,\n        data,\n        msg\n      } = await this.$request.get('/help/selectFrontPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          title: this.title\n        }\n      });\n      if (code === '200') {\n        this.tableData = (data.list || []).map(v => ({\n          ...v,\n          showComment: v.showComment ?? false\n        }));\n        this.total = data.total;\n      } else {\n        this.$message.error(msg);\n      }\n    },\n    /* ---------- 评论折叠 ---------- */\n    toggleComment(item) {\n      this.$set(item, 'showComment', !item.showComment);\n    },\n    /* ---------- 分页 ---------- */\n    handleCurrentChange(page) {\n      this.load(page);\n    }\n  }\n};","map":{"version":3,"names":["Comment","name","components","data","tableData","pageNum","pageSize","total","title","created","load","methods","page","code","msg","$request","get","params","list","map","v","showComment","$message","error","toggleComment","item","$set","handleCurrentChange"],"sources":["src/views/front/Help.vue"],"sourcesContent":["<template>\n  <div class=\"help-page\">\n    <!-- ▍查询栏 -->\n    <div class=\"search-bar\">\n      <el-input\n        v-model.trim=\"title\"\n        placeholder=\"请输入标题关键字查询\"\n        clearable\n        class=\"search-input\"\n        @keyup.enter.native=\"load(1)\"\n      />\n      <el-button type=\"primary\" size=\"mini\" @click=\"load(1)\">查询</el-button>\n    </div>\n\n    <!-- ▍求助列表 -->\n    <el-card\n      v-for=\"item in tableData\"\n      :key=\"item.id\"\n      class=\"help-card\"\n      shadow=\"never\"\n    >\n      <!-- 头部 -->\n      <header class=\"help-header\">\n        <img :src=\"item.avatar\" alt=\"用户头像\" class=\"avatar\" />\n        <div class=\"info\">\n          <div class=\"title\">\n            <strong>{{ item.title }}</strong>\n            <el-tag\n              size=\"mini\"\n              :type=\"item.solved === '未解决' ? 'danger' : 'success'\"\n            >\n              {{ item.solved }}\n            </el-tag>\n          </div>\n          <div class=\"meta\">\n            <span>{{ item.userName }}</span>\n            <span>{{ item.time }}</span>\n          </div>\n        </div>\n      </header>\n\n      <!-- 图片 -->\n      <el-image\n        v-if=\"item.img\"\n        :src=\"item.img\"\n        :preview-src-list=\"[item.img]\"\n        fit=\"cover\"\n        class=\"help-img\"\n      />\n\n      <!-- 内容 -->\n      <div\n        class=\"help-content\"\n        v-html=\"item.content\"\n      />\n\n      <!-- 评论按钮 -->\n      <el-button\n        size=\"mini\"\n        type=\"primary\"\n        plain\n        @click=\"toggleComment(item)\"\n      >\n        {{ item.showComment ? '收起评论' : '展开评论' }}\n      </el-button>\n\n      <!-- 评论区 -->\n      <transition name=\"fade\">\n        <div v-if=\"item.showComment\" class=\"comment-area\">\n          <Comment :fid=\"item.id\" module=\"help\" />\n        </div>\n      </transition>\n    </el-card>\n\n    <!-- ▍分页 -->\n    <el-pagination\n      v-if=\"total\"\n      class=\"pager\"\n      background\n      layout=\"total, prev, pager, next\"\n      :current-page=\"pageNum\"\n      :page-size=\"pageSize\"\n      :total=\"total\"\n      :page-sizes=\"[5, 10, 20]\"\n      @current-change=\"handleCurrentChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport Comment from '@/components/Comment'\nexport default {\n  name: 'Help',\n  components: { Comment },\n  data() {\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 5,\n      total: 0,\n      title: ''\n    }\n  },\n  created() {\n    this.load()\n  },\n  methods: {\n    /* ---------- 数据 ---------- */\n    async load(page = this.pageNum) {\n      this.pageNum = page\n      const { code, data, msg } = await this.$request.get(\n        '/help/selectFrontPage',\n        {\n          params: {\n            pageNum: this.pageNum,\n            pageSize: this.pageSize,\n            title: this.title\n          }\n        }\n      )\n      if (code === '200') {\n        this.tableData = (data.list || []).map((v) => ({\n          ...v,\n          showComment: v.showComment ?? false\n        }))\n        this.total = data.total\n      } else {\n        this.$message.error(msg)\n      }\n    },\n\n    /* ---------- 评论折叠 ---------- */\n    toggleComment(item) {\n      this.$set(item, 'showComment', !item.showComment)\n    },\n\n    /* ---------- 分页 ---------- */\n    handleCurrentChange(page) {\n      this.load(page)\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 容器 */\n.help-page {\n  width: 70%;\n  max-width: 900px;\n  margin: 40px auto;\n  padding: 0 20px;\n}\n\n/* 查询栏 */\n.search-bar {\n  display: flex;\n  align-items: center;\n  margin-bottom: 30px;\n  gap: 15px;\n  background: #fff;\n  padding: 20px;\n  border-radius: 12px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\n}\n\n.search-input {\n  width: 350px;\n}\n\n.search-input :deep(.el-input__inner) {\n  border-radius: 8px;\n  height: 42px;\n  line-height: 42px;\n  font-size: 14px;\n  transition: all 0.3s;\n  border-color: #e8e8e8;\n  background: #f9f9f9;\n}\n\n.search-input :deep(.el-input__inner:hover) {\n  border-color: #40a9ff;\n  background: #fff;\n}\n\n.search-input :deep(.el-input__inner:focus) {\n  background: #fff;\n  border-color: #1890ff;\n  box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.1);\n}\n\n.search-bar .el-button {\n  padding: 12px 28px;\n  border-radius: 8px;\n  font-weight: 500;\n  font-size: 14px;\n  letter-spacing: 1px;\n  transition: all 0.3s;\n  background: linear-gradient(135deg, #1890ff 0%, #40a9ff 100%);\n  border: none;\n}\n\n.search-bar .el-button:hover {\n  transform: translateY(-1px);\n  background: linear-gradient(135deg, #40a9ff 0%, #69c0ff 100%);\n  box-shadow: 0 4px 12px rgba(24, 144, 255, 0.3);\n}\n\n/* 帮助卡片 */\n.help-card {\n  margin-bottom: 25px;\n  border-radius: 16px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s;\n  border: 1px solid #f0f0f0;\n  overflow: hidden;\n  background: #fff;\n}\n\n.help-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);\n}\n\n/* 头部样式 */\n.help-header {\n  display: flex;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid #f0f0f0;\n  background: linear-gradient(to right, #fafafa, #fff);\n}\n\n.avatar {\n  width: 52px;\n  height: 52px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 18px;\n  border: 3px solid #fff;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s;\n}\n\n.avatar:hover {\n  transform: scale(1.05);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n\n.info {\n  flex: 1;\n  min-width: 0;\n}\n\n.title {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 8px;\n}\n\n.title strong {\n  font-size: 17px;\n  color: #2c3e50;\n  font-weight: 600;\n  flex: 1;\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n:deep(.el-tag) {\n  padding: 4px 12px;\n  border-radius: 6px;\n  font-weight: 500;\n  font-size: 12px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n:deep(.el-tag--success) {\n  background: rgba(82, 196, 26, 0.1);\n  border: none;\n  color: #52c41a;\n}\n\n:deep(.el-tag--danger) {\n  background: rgba(255, 77, 79, 0.1);\n  border: none;\n  color: #ff4d4f;\n}\n\n.meta {\n  color: #8c8c8c;\n  font-size: 13px;\n  display: flex;\n  gap: 20px;\n  align-items: center;\n}\n\n.meta span {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n/* 内容区域 */\n.help-content {\n  padding: 25px;\n  line-height: 1.8;\n  color: #3c4858;\n  font-size: 15px;\n  word-break: break-all;\n  background: #fff;\n}\n\n/* 图片样式 */\n.help-img {\n  display: block;\n  max-width: 400px;\n  width: 100%;\n  height: 300px;\n  object-fit: contain;\n  background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);\n  border-radius: 12px;\n  margin: 20px auto;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\n  cursor: pointer;\n  transition: all 0.3s;\n  padding: 15px;\n  border: none;\n}\n\n.help-img:hover {\n  transform: scale(1.02);\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);\n}\n\n/* 评论按钮 */\n.help-card :deep(.el-button--primary.is-plain) {\n  margin: 0 25px 20px;\n  padding: 10px 24px;\n  border-radius: 8px;\n  transition: all 0.3s;\n  border-color: #1890ff;\n  color: #1890ff;\n  font-weight: 500;\n  letter-spacing: 0.5px;\n}\n\n.help-card :deep(.el-button--primary.is-plain:hover) {\n  color: #fff;\n  background: linear-gradient(135deg, #1890ff 0%, #40a9ff 100%);\n  border-color: transparent;\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(24, 144, 255, 0.2);\n}\n\n/* 评论区域 */\n.comment-area {\n  padding: 25px;\n  background: linear-gradient(to bottom, #fff, #fafafa);\n  border-top: 1px solid #f0f0f0;\n  margin-top: 15px;\n}\n\n/* 评论标题样式 */\n.comment-title {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  color: #2c3e50;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.comment-title::before {\n  content: '';\n  width: 4px;\n  height: 16px;\n  background: linear-gradient(to bottom, #1890ff, #40a9ff);\n  border-radius: 2px;\n  margin-right: 10px;\n}\n\n/* 评论输入框样式 */\n:deep(.el-textarea__inner) {\n  border-radius: 8px;\n  padding: 12px 15px;\n  min-height: 100px !important;\n  resize: none;\n  transition: all 0.3s;\n  border-color: #e8e8e8;\n  background: #fff;\n  font-size: 14px;\n  line-height: 1.6;\n}\n\n:deep(.el-textarea__inner:hover) {\n  border-color: #40a9ff;\n}\n\n:deep(.el-textarea__inner:focus) {\n  border-color: #1890ff;\n  box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.1);\n}\n\n/* 评论按钮样式 */\n.comment-btn {\n  margin-top: 15px;\n  text-align: right;\n}\n\n:deep(.comment-submit-btn) {\n  padding: 10px 24px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 500;\n  background: linear-gradient(135deg, #1890ff 0%, #40a9ff 100%);\n  border: none;\n  color: #fff;\n  transition: all 0.3s;\n}\n\n:deep(.comment-submit-btn:hover) {\n  transform: translateY(-1px);\n  background: linear-gradient(135deg, #40a9ff 0%, #69c0ff 100%);\n  box-shadow: 0 4px 12px rgba(24, 144, 255, 0.2);\n}\n\n/* 评论列表样式 */\n.comment-list {\n  margin-top: 25px;\n}\n\n.comment-item {\n  display: flex;\n  padding: 15px;\n  margin-bottom: 15px;\n  background: #fff;\n  border-radius: 8px;\n  transition: all 0.3s;\n  border: 1px solid #f0f0f0;\n}\n\n.comment-item:hover {\n  transform: translateX(5px);\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\n  border-color: #e8e8e8;\n}\n\n.comment-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  margin-right: 15px;\n  border: 2px solid #fff;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.comment-content {\n  flex: 1;\n}\n\n.comment-user {\n  margin-bottom: 6px;\n  font-size: 14px;\n  color: #2c3e50;\n  font-weight: 500;\n}\n\n.comment-text {\n  font-size: 14px;\n  color: #3c4858;\n  line-height: 1.6;\n  margin-bottom: 8px;\n}\n\n.comment-time {\n  font-size: 12px;\n  color: #8c8c8c;\n}\n\n/* 评论数量标签 */\n.comment-count {\n  background: rgba(24, 144, 255, 0.1);\n  color: #1890ff;\n  padding: 2px 8px;\n  border-radius: 10px;\n  font-size: 12px;\n  margin-left: 8px;\n}\n\n/* 无评论状态 */\n.no-comment {\n  text-align: center;\n  padding: 30px 0;\n  color: #8c8c8c;\n  font-size: 14px;\n}\n\n.no-comment i {\n  font-size: 24px;\n  margin-bottom: 10px;\n  color: #bfbfbf;\n}\n\n/* 分页器 */\n.pager {\n  margin: 40px 0;\n  text-align: center;\n  padding: 15px 0;\n}\n\n:deep(.el-pagination.is-background .el-pager li:not(.disabled)) {\n  background-color: #fff;\n  border: 1px solid #e8e8e8;\n  transition: all 0.3s;\n}\n\n:deep(.el-pagination.is-background .el-pager li:not(.disabled).active) {\n  background: linear-gradient(135deg, #1890ff 0%, #40a9ff 100%);\n  border-color: transparent;\n  color: #fff;\n  font-weight: 500;\n}\n\n:deep(.el-pagination.is-background .el-pager li:not(.disabled):hover) {\n  border-color: #1890ff;\n  color: #1890ff;\n  transform: translateY(-1px);\n}\n\n/* 动画效果 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n  transform: translateY(-15px);\n}\n</style>\n"],"mappings":"AA0FA,OAAAA,OAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACA;IACA,MAAAD,KAAAE,IAAA,QAAAP,OAAA;MACA,KAAAA,OAAA,GAAAO,IAAA;MACA;QAAAC,IAAA;QAAAV,IAAA;QAAAW;MAAA,eAAAC,QAAA,CAAAC,GAAA,CACA,yBACA;QACAC,MAAA;UACAZ,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAE,KAAA,OAAAA;QACA;MACA,CACA;MACA,IAAAK,IAAA;QACA,KAAAT,SAAA,IAAAD,IAAA,CAAAe,IAAA,QAAAC,GAAA,CAAAC,CAAA;UACA,GAAAA,CAAA;UACAC,WAAA,EAAAD,CAAA,CAAAC,WAAA;QACA;QACA,KAAAd,KAAA,GAAAJ,IAAA,CAAAI,KAAA;MACA;QACA,KAAAe,QAAA,CAAAC,KAAA,CAAAT,GAAA;MACA;IACA;IAEA;IACAU,cAAAC,IAAA;MACA,KAAAC,IAAA,CAAAD,IAAA,kBAAAA,IAAA,CAAAJ,WAAA;IACA;IAEA;IACAM,oBAAAf,IAAA;MACA,KAAAF,IAAA,CAAAE,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
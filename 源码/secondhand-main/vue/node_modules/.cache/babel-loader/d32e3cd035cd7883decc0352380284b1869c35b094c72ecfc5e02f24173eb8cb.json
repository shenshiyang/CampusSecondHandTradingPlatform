{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Search\",\n  data() {\n    return {\n      goodsList: [],\n      // 所有的数据\n      pageNum: 1,\n      // 当前的页码\n      pageSize: 8,\n      // 每页显示的个数\n      total: 0,\n      name: this.$route.query.name\n    };\n  },\n  created() {\n    this.loadGoods(1);\n  },\n  methods: {\n    loadGoods(pageNum) {\n      // 分页查询\n      if (pageNum) this.pageNum = pageNum;\n      this.$request.get('/goods/selectFrontPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          name: this.name\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.goodsList = res.data?.list;\n          this.total = res.data?.total;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    handleCurrentChange(pageNum) {\n      this.loadGoods(pageNum);\n    },\n    reset() {\n      this.$router.push('/front/search');\n      this.name = null;\n      this.loadGoods(1);\n    }\n  }\n};","map":{"version":3,"names":["name","data","goodsList","pageNum","pageSize","total","$route","query","created","loadGoods","methods","$request","get","params","then","res","code","list","$message","error","msg","handleCurrentChange","reset","$router","push"],"sources":["src/views/front/Search.vue"],"sourcesContent":["<template>\n  <div style=\"width: 70%; margin: 10px auto\">\n    <div style=\"margin-bottom: 10px\">\n      <el-input v-model=\"name\" size=\"medium\" style=\"width: 300px; margin-right: 10px\"></el-input>\n      <el-button type=\"primary\" @click=\"loadGoods(1)\">搜 索</el-button>\n      <el-button type=\"warning\" @click=\"reset\">重 置</el-button>\n    </div>\n    <div class=\"card\">\n      <el-row :gutter=\"15\">\n        <el-col :span=\"6\" v-for=\"item in goodsList\" :key=\"item.id\">\n          <div style=\"margin-bottom: 20px\" class=\"goods-item\" @click=\"$router.push('/front/goodsDetail?id=' + item.id)\">\n            <img :src=\"item.img\" alt=\"\" style=\"width: 100%; display: block; height: 260px; margin-bottom: 10px; border-radius: 5px\">\n            <div style=\"font-size: 16px; height: 40px; color: #555; margin-bottom: 10px\" class=\"line2 goods-name\">{{ item.name }}</div>\n            <div style=\"display: flex; align-items: baseline\">\n              <strong style=\"color: red; font-size: 24px\">￥{{ item.price }}</strong>\n              <span style=\"margin-left: 20px; color: #666\">{{ item.readCount }}人浏览</span>\n              <span style=\"margin-left: 20px; color: #666\">{{ item.likesCount }}人点赞</span>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n\n      <div style=\"margin: 15px auto\">\n        <el-pagination\n            background\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"pageNum\"\n            :page-sizes=\"[5, 10, 20]\"\n            :page-size=\"pageSize\"\n            layout=\"total, prev, pager, next\"\n            :total=\"total\">\n        </el-pagination>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Search\",\n  data() {\n    return {\n      goodsList: [],  // 所有的数据\n      pageNum: 1,   // 当前的页码\n      pageSize: 8,  // 每页显示的个数\n      total: 0,\n      name: this.$route.query.name\n    }\n  },\n  created() {\n    this.loadGoods(1)\n  },\n  methods: {\n    loadGoods(pageNum) {  // 分页查询\n      if (pageNum) this.pageNum = pageNum\n      this.$request.get('/goods/selectFrontPage', {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          name: this.name\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.goodsList = res.data?.list\n          this.total = res.data?.total\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n    handleCurrentChange(pageNum) {\n      this.loadGoods(pageNum)\n    },\n    reset() {\n      this.$router.push('/front/search')\n      this.name = null\n      this.loadGoods(1)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":";AAuCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MAAA;MACAC,OAAA;MAAA;MACAC,QAAA;MAAA;MACAC,KAAA;MACAL,IAAA,OAAAM,MAAA,CAAAC,KAAA,CAAAP;IACA;EACA;EACAQ,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,UAAAN,OAAA;MAAA;MACA,IAAAA,OAAA,OAAAA,OAAA,GAAAA,OAAA;MACA,KAAAQ,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAV,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAJ,IAAA,OAAAA;QACA;MACA,GAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAd,SAAA,GAAAa,GAAA,CAAAd,IAAA,EAAAgB,IAAA;UACA,KAAAZ,KAAA,GAAAU,GAAA,CAAAd,IAAA,EAAAI,KAAA;QACA;UACA,KAAAa,QAAA,CAAAC,KAAA,CAAAJ,GAAA,CAAAK,GAAA;QACA;MACA;IACA;IACAC,oBAAAlB,OAAA;MACA,KAAAM,SAAA,CAAAN,OAAA;IACA;IACAmB,MAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;MACA,KAAAxB,IAAA;MACA,KAAAS,SAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
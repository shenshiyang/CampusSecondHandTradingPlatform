{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}')\n    };\n  },\n  mounted() {\n    const pieChart = echarts.init(document.getElementById('pie')); // 第一个图：折线图\n    const pictorialChart = echarts.init(document.getElementById('pictorial')); // 第二个图：横向条形图\n    const categoryPieChart = echarts.init(document.getElementById('categoryPie')); // 第三个图：饼图\n\n    // ✅ 第一个图：商品销售额趋势（折线图）\n    this.$request.get('/orders/selectLine').then(res => {\n      const data = res.data || [];\n      const lineOption = {\n        title: {\n          text: '近八日商品销售额趋势',\n          subtext: '折线图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'axis'\n        },\n        xAxis: {\n          type: 'category',\n          data: data.map(v => v.name),\n          axisLabel: {\n            rotate: 30,\n            interval: 0\n          }\n        },\n        yAxis: {\n          type: 'value',\n          name: '销售额（元）'\n        },\n        series: [{\n          name: '销售额',\n          type: 'line',\n          smooth: true,\n          data: data.map(v => v.value),\n          itemStyle: {\n            color: '#5470c6'\n          }\n        }]\n      };\n      pieChart.setOption(lineOption);\n    });\n\n    // ✅ 第二个图：商家销售额排行榜（横向条形图 + 降序排序）\n    this.$request.get('/orders/selectBar').then(res => {\n      const data = (res.data || []).sort((a, b) => b.value - a.value);\n      const horizontalBarOption = {\n        title: {\n          text: '商家销售额排行榜',\n          subtext: '横向条形图（降序）',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        grid: {\n          left: '120px',\n          right: '40px',\n          bottom: '50px',\n          top: '80px'\n        },\n        xAxis: {\n          type: 'value',\n          name: '销售额（元）'\n        },\n        yAxis: {\n          type: 'category',\n          data: data.map(v => v.name),\n          inverse: true,\n          // 最高在上\n          axisLabel: {\n            fontSize: 12\n          }\n        },\n        series: [{\n          name: '销售额',\n          type: 'bar',\n          barWidth: '50%',\n          data: data.map(v => v.value),\n          itemStyle: {\n            color: '#91cc75'\n          },\n          label: {\n            show: true,\n            position: 'right'\n          }\n        }]\n      };\n      pictorialChart.setOption(horizontalBarOption);\n    });\n\n    // ✅ 第三个图：商品种类销售数量占比（饼图）\n    this.$request.get('/orders/selectCategorySalesCount').then(res => {\n      const data = res.data || [];\n      const categoryOption = {\n        title: {\n          text: '商品种类销量占比',\n          subtext: '饼图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [{\n          name: '销量',\n          type: 'pie',\n          radius: '60%',\n          center: ['50%', '55%'],\n          data: data.map(item => ({\n            value: item.value,\n            name: item.name\n          })),\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      };\n      categoryPieChart.setOption(categoryOption);\n    });\n  }\n};","map":{"version":3,"names":["echarts","name","data","user","JSON","parse","localStorage","getItem","mounted","pieChart","init","document","getElementById","pictorialChart","categoryPieChart","$request","get","then","res","lineOption","title","text","subtext","left","tooltip","trigger","xAxis","type","map","v","axisLabel","rotate","interval","yAxis","series","smooth","value","itemStyle","color","setOption","sort","a","b","horizontalBarOption","axisPointer","grid","right","bottom","top","inverse","fontSize","barWidth","label","show","position","categoryOption","legend","orient","radius","center","item","emphasis","shadowBlur","shadowOffsetX","shadowColor"],"sources":["src/views/manager/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"card\" style=\"padding: 15px\">\n      您好，{{ user?.name }}！欢迎使用本系统\n    </div>\n\n    <div style=\"display: flex; grid-gap: 10px; margin: 10px 0\">\n      <div style=\"flex: 1; height: 500px\" id=\"pie\" class=\"card\"></div>\n      <div style=\"flex: 1; height: 500px\" id=\"pictorial\" class=\"card\"></div>\n    </div>\n\n    <!-- 新增图表：商品种类销售数量占比 -->\n    <div style=\"margin-top: 20px\">\n      <div id=\"categoryPie\" class=\"card\" style=\"height: 500px\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n    }\n  },\n  mounted() {\n    const pieChart = echarts.init(document.getElementById('pie'))            // 第一个图：折线图\n    const pictorialChart = echarts.init(document.getElementById('pictorial')) // 第二个图：横向条形图\n    const categoryPieChart = echarts.init(document.getElementById('categoryPie')) // 第三个图：饼图\n\n    // ✅ 第一个图：商品销售额趋势（折线图）\n    this.$request.get('/orders/selectLine').then(res => {\n      const data = res.data || []\n      const lineOption = {\n        title: {\n          text: '近八日商品销售额趋势',\n          subtext: '折线图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'axis'\n        },\n        xAxis: {\n          type: 'category',\n          data: data.map(v => v.name),\n          axisLabel: {\n            rotate: 30,\n            interval: 0\n          }\n        },\n        yAxis: {\n          type: 'value',\n          name: '销售额（元）'\n        },\n        series: [\n          {\n            name: '销售额',\n            type: 'line',\n            smooth: true,\n            data: data.map(v => v.value),\n            itemStyle: {\n              color: '#5470c6'\n            }\n          }\n        ]\n      }\n      pieChart.setOption(lineOption)\n    })\n\n    // ✅ 第二个图：商家销售额排行榜（横向条形图 + 降序排序）\n    this.$request.get('/orders/selectBar').then(res => {\n      const data = (res.data || []).sort((a, b) => b.value - a.value)\n\n      const horizontalBarOption = {\n        title: {\n          text: '商家销售额排行榜',\n          subtext: '横向条形图（降序）',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'shadow'\n          }\n        },\n        grid: {\n          left: '120px',\n          right: '40px',\n          bottom: '50px',\n          top: '80px'\n        },\n        xAxis: {\n          type: 'value',\n          name: '销售额（元）'\n        },\n        yAxis: {\n          type: 'category',\n          data: data.map(v => v.name),\n          inverse: true, // 最高在上\n          axisLabel: {\n            fontSize: 12\n          }\n        },\n        series: [\n          {\n            name: '销售额',\n            type: 'bar',\n            barWidth: '50%',\n            data: data.map(v => v.value),\n            itemStyle: {\n              color: '#91cc75'\n            },\n            label: {\n              show: true,\n              position: 'right'\n            }\n          }\n        ]\n      }\n\n      pictorialChart.setOption(horizontalBarOption)\n    })\n\n    // ✅ 第三个图：商品种类销售数量占比（饼图）\n    this.$request.get('/orders/selectCategorySalesCount').then(res => {\n      const data = res.data || []\n      const categoryOption = {\n        title: {\n          text: '商品种类销量占比',\n          subtext: '饼图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [\n          {\n            name: '销量',\n            type: 'pie',\n            radius: '60%',\n            center: ['50%', '55%'],\n            data: data.map(item => ({\n              value: item.value,\n              name: item.name\n            })),\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      }\n      categoryPieChart.setOption(categoryOption)\n    })\n  }\n}\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
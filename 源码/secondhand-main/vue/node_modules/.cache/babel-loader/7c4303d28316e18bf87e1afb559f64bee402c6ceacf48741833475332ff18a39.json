{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      userList: [],\n      chatList: [],\n      chatTitle: '',\n      active: null,\n      content: '',\n      activeUserAvatar: '',\n      ws: null,\n      showEmoji: false,\n      processedMessageIds: new Set(),\n      emojiList: ['üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'üòÇ', 'ü§£', 'üòä', 'üòá', 'üôÇ', 'üôÉ', 'üòâ', 'üòå', 'üòç', 'ü•∞', 'üòò', 'üòó', 'üòô', 'üòö', 'üòã', 'üòõ', 'üòù', 'üòú', 'ü§™', 'ü§®', 'üßê', 'ü§ì', 'üòé', 'ü§©', 'ü•≥', 'üòè', 'üòí', 'üòû', 'üòî', 'üòü', 'üòï', 'üôÅ', '‚òπÔ∏è', 'üò£', 'üòñ', 'üò´', 'üò©', 'ü•∫', 'üò¢', 'üò≠', 'üò§', 'üò†', 'üò°', 'ü§¨', 'ü§Ø', 'üò≥', 'ü•µ', 'ü•∂', 'üò±', 'üò®', 'üò∞', 'üò•', 'üòì', 'ü§ó', 'ü§î', 'ü§≠', 'ü§´', 'ü§•', 'üò∂', 'üòê', 'üòë', 'üò¨', 'üôÑ', 'üòØ', 'üò¶', 'üòß', 'üòÆ', 'üò≤', 'ü•±', 'üò¥', 'ü§§', 'üò™', 'üòµ', 'ü§ê', 'ü•¥', 'ü§¢', 'ü§Æ', 'ü§ß', 'üò∑', 'ü§í', 'ü§ï', 'ü§ë', 'ü§†', 'üòà', 'üëø', 'üëπ', 'üë∫', 'ü§°', 'üí©', 'üëª', 'üíÄ', '‚ò†Ô∏è', 'üëΩ', 'üëæ']\n    };\n  },\n  mounted() {\n    // Á°Æ‰øùÁî®Êà∑‰ø°ÊÅØÂ≠òÂú®\n    if (!this.user || !this.user.id) {\n      console.error('Áî®Êà∑Êú™ÁôªÂΩï');\n      this.$message.error('ËØ∑ÂÖàÁôªÂΩï');\n      return;\n    }\n    console.log('ÂΩìÂâçÁî®Êà∑‰ø°ÊÅØ:', this.user); // Ê∑ªÂä†Êó•Âøó\n\n    this.loadUserList().then(() => {\n      const toUserId = this.$route.query.toUserId;\n      if (toUserId) {\n        const target = this.userList.find(u => u.chatUserId == toUserId);\n        if (target) {\n          this.changeChatUser(target);\n        } else {\n          this.$request.post('/chatGroup/add', {\n            userId: this.user.id,\n            chatUserId: toUserId\n          }).then(() => {\n            this.loadUserList().then(() => {\n              const added = this.userList.find(u => u.chatUserId == toUserId);\n              if (added) this.changeChatUser(added);\n            });\n          });\n        }\n      }\n    });\n\n    // ÂàùÂßãÂåñWebSocketËøûÊé•\n    this.initWebSocket();\n\n    // Ê∑ªÂä†È°µÈù¢ÂÖ≥Èó≠‰∫ã‰ª∂ÁõëÂê¨\n    window.addEventListener('beforeunload', this.closeWebSocket);\n    document.addEventListener('click', this.closeEmojiPanel);\n  },\n  beforeDestroy() {\n    if (this.ws) {\n      this.closeWebSocket();\n    }\n    // ÁßªÈô§È°µÈù¢ÂÖ≥Èó≠‰∫ã‰ª∂ÁõëÂê¨\n    window.removeEventListener('beforeunload', this.closeWebSocket);\n    document.removeEventListener('click', this.closeEmojiPanel);\n  },\n  methods: {\n    loadUserList() {\n      return this.$request.get('/chatGroup/selectUserGroup').then(res => {\n        if (res.code === '200') {\n          this.userList = res.data;\n        }\n      });\n    },\n    changeChatUser(item) {\n      this.chatTitle = item.chatUserName || 'ÂØπÊñπ';\n      this.active = item.chatUserId;\n      this.activeUserAvatar = item.chatUserAvatar;\n      this.$request.put(`/chatInfo/updateRead/${item.chatUserId}`);\n      this.loadChatRecord();\n      // Ê∏ÖÈô§Êú™ËØªÊ∂àÊÅØÊï∞\n      if (item.unreadCount) {\n        const index = this.userList.findIndex(u => u.chatUserId === item.chatUserId);\n        if (index !== -1) {\n          this.$set(this.userList[index], 'unreadCount', 0);\n        }\n      }\n    },\n    loadChatRecord() {\n      this.$request.get(`/chatInfo/selectUserChat/${this.active}`).then(res => {\n        if (res.code === '200') {\n          // Ê∏ÖÁ©∫Â∑≤Â§ÑÁêÜÊ∂àÊÅØIDÈõÜÂêà\n          this.processedMessageIds.clear();\n          // ÈáçÁΩÆËÅäÂ§©ÂàóË°®\n          this.chatList = [];\n\n          // Ê∑ªÂä†ÂéÜÂè≤Ê∂àÊÅØÔºåÂπ∂ËÆ∞ÂΩïÊ∂àÊÅØID\n          const messages = res.data || [];\n          messages.forEach(msg => {\n            this.processedMessageIds.add(msg.id);\n            this.chatList.push(msg);\n          });\n          this.$nextTick(() => {\n            const box = this.$refs.chatBox;\n            if (box) box.scrollTop = box.scrollHeight;\n          });\n        }\n      });\n    },\n    initWebSocket() {\n      if (typeof WebSocket === 'undefined') {\n        this.$message.error('ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅWebSocket');\n        return;\n      }\n      this.closeWebSocket();\n\n      // ‰øÆÊîπWebSocketËøûÊé•Âú∞ÂùÄÔºå‰ΩøÁî®ÂêéÁ´ØÊúçÂä°Âô®Âú∞ÂùÄ\n      const wsUrl = `ws://${window.location.hostname}:9090/chatServer/${this.user.id}`;\n      console.log('Ê≠£Âú®ËøûÊé•WebSocket:', wsUrl); // Ê∑ªÂä†Êó•Âøó\n      this.ws = new WebSocket(wsUrl);\n      this.ws.onopen = () => {\n        console.log('WebSocketËøûÊé•ÊàêÂäü');\n        // ÂºÄÂßãÂèëÈÄÅÂøÉË∑≥\n        this.startHeartbeat();\n      };\n      this.ws.onmessage = e => {\n        try {\n          const data = JSON.parse(e.data);\n          console.log('Êî∂Âà∞WebSocketÊ∂àÊÅØ:', data);\n          if (data.type === 'chat') {\n            // Ê£ÄÊü•Ê∂àÊÅØÊòØÂê¶ÊúâÊïà\n            if (!data.fromUserId || !data.toUserId) {\n              console.error('Êó†ÊïàÁöÑÊ∂àÊÅØÊ†ºÂºè:', data);\n              return;\n            }\n\n            // Ê£ÄÊü•Ê∂àÊÅØIDÊòØÂê¶Â≠òÂú®‰∏îÊú™Ë¢´Â§ÑÁêÜ\n            if (data.messageId && this.processedMessageIds.has(data.messageId)) {\n              console.log('Ê∂àÊÅØÂ∑≤Â§ÑÁêÜÔºåË∑≥Ëøá:', data.messageId);\n              return;\n            }\n\n            // Â¶ÇÊûúÊòØÂΩìÂâçËÅäÂ§©ÂØπË±°ÁöÑÊ∂àÊÅØ\n            if (data.fromUserId === this.active && data.toUserId === this.user.id || data.toUserId === this.active && data.fromUserId === this.user.id) {\n              const newMsg = {\n                id: data.messageId,\n                userId: data.fromUserId,\n                chatUserId: data.toUserId,\n                text: data.content,\n                contentType: data.contentType || 'text',\n                fileType: data.fileType,\n                fileUrl: data.fileUrl,\n                fileName: data.fileName,\n                userName: data.fromUserName,\n                userAvatar: data.fromUserAvatar,\n                timestamp: data.timestamp\n              };\n\n              // ËÆ∞ÂΩïÊ∂àÊÅØIDÂπ∂Ê∑ªÂä†Âà∞ÂàóË°®\n              if (data.messageId) {\n                this.processedMessageIds.add(data.messageId);\n              }\n              this.$set(this.chatList, this.chatList.length, newMsg);\n\n              // Â¶ÇÊûúÊòØÊî∂Âà∞ÁöÑÊ∂àÊÅØÔºåÊ†áËÆ∞‰∏∫Â∑≤ËØªÂπ∂ÂèëÈÄÅÁ°ÆËÆ§\n              if (data.toUserId === this.user.id) {\n                this.$request.put(`/chatInfo/updateRead/${data.fromUserId}`);\n                // ÂèëÈÄÅÊ∂àÊÅØÁ°ÆËÆ§\n                if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n                  const ack = {\n                    type: 'ack',\n                    messageId: data.messageId,\n                    status: 'received',\n                    timestamp: new Date().getTime()\n                  };\n                  this.ws.send(JSON.stringify(ack));\n                }\n              }\n              this.$nextTick(() => {\n                const box = this.$refs.chatBox;\n                if (box) box.scrollTop = box.scrollHeight;\n              });\n            }\n            // Âà∑Êñ∞ËÅäÂ§©ÂàóË°®\n            this.loadUserList();\n          } else if (data.type === 'ack') {\n            // Â§ÑÁêÜÊ∂àÊÅØÁ°ÆËÆ§\n            console.log('Êî∂Âà∞Ê∂àÊÅØÁ°ÆËÆ§:', data);\n            if (data.status === 'error') {\n              this.$message.error(data.error || 'Ê∂àÊÅØÂèëÈÄÅÂ§±Ë¥•');\n            } else if (data.status === 'received') {\n              console.log('Ê∂àÊÅØÂ∑≤ÈÄÅËææ:', data.messageId);\n            }\n          }\n        } catch (error) {\n          console.error('Ëß£ÊûêWebSocketÊ∂àÊÅØÂ§±Ë¥•:', error, e.data);\n        }\n      };\n      this.ws.onclose = () => {\n        console.log('WebSocketËøûÊé•ÂÖ≥Èó≠');\n        // Ê∏ÖÈô§ÂøÉË∑≥ÂÆöÊó∂Âô®\n        if (this.heartbeatTimer) {\n          clearInterval(this.heartbeatTimer);\n          this.heartbeatTimer = null;\n        }\n        // 3ÁßíÂêéÈáçËøû\n        setTimeout(() => {\n          this.initWebSocket();\n        }, 3000);\n      };\n      this.ws.onerror = () => {\n        console.error('WebSocketËøûÊé•ÈîôËØØ');\n        this.closeWebSocket();\n      };\n    },\n    startHeartbeat() {\n      // ÊØè30ÁßíÂèëÈÄÅ‰∏ÄÊ¨°ÂøÉË∑≥\n      this.heartbeatTimer = setInterval(() => {\n        if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n          const heartbeat = {\n            type: 'heartbeat',\n            userId: this.user.id,\n            timestamp: new Date().getTime()\n          };\n          this.ws.send(JSON.stringify(heartbeat));\n        }\n      }, 30000);\n    },\n    closeWebSocket() {\n      if (this.heartbeatTimer) {\n        clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = null;\n      }\n      if (this.ws) {\n        this.ws.close();\n        this.ws = null;\n      }\n    },\n    send() {\n      if (!this.content.trim()) return;\n\n      // Ê£ÄÊü•WebSocketËøûÊé•Áä∂ÊÄÅ\n      if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {\n        console.log('WebSocketÊú™ËøûÊé•ÔºåÂ∞ùËØïÈáçÊñ∞ËøûÊé•...');\n        this.$message.warning('Ê≠£Âú®ÈáçÊñ∞ËøûÊé•ÊúçÂä°Âô®...');\n        this.initWebSocket();\n        setTimeout(() => {\n          this.send();\n        }, 1000);\n        return;\n      }\n\n      // ÂàõÂª∫‰∏¥Êó∂Ê∂àÊÅØÂØπË±°Áî®‰∫éÂâçÁ´ØÊòæÁ§∫\n      const tempMsg = {\n        userId: this.user.id,\n        chatUserId: this.active,\n        text: this.content,\n        contentType: 'text',\n        fileType: null,\n        fileUrl: null,\n        userName: this.user.name,\n        userAvatar: this.user.avatar,\n        timestamp: new Date().getTime(),\n        pending: true // Ê†áËÆ∞‰∏∫ÂæÖÁ°ÆËÆ§Áä∂ÊÄÅ\n      };\n\n      // ÂÖàÊ∑ªÂä†Âà∞Êú¨Âú∞ËÅäÂ§©ÂàóË°®ÔºåÂÆûÁé∞Âç≥Êó∂ÊòæÁ§∫\n      const msgIndex = this.chatList.length;\n      this.$set(this.chatList, msgIndex, tempMsg);\n\n      // Ê∏ÖÁ©∫ËæìÂÖ•Ê°ÜÂπ∂ÊªöÂä®Âà∞Â∫ïÈÉ®\n      this.content = '';\n      this.$nextTick(() => {\n        const box = this.$refs.chatBox;\n        if (box) box.scrollTop = box.scrollHeight;\n      });\n\n      // ÂèëÈÄÅÊ∂àÊÅØÂà∞ÊúçÂä°Âô®\n      this.$request.post('/chatInfo/add', {\n        userId: this.user.id,\n        chatUserId: this.active,\n        text: tempMsg.text,\n        contentType: tempMsg.contentType,\n        fileType: tempMsg.fileType,\n        fileUrl: tempMsg.fileUrl\n      }).then(res => {\n        if (res.code === '200') {\n          const messageId = res.data;\n\n          // Êõ¥Êñ∞Êú¨Âú∞Ê∂àÊÅØÔºåÁßªÈô§pendingÁä∂ÊÄÅ\n          this.$set(this.chatList[msgIndex], 'id', messageId);\n          this.$set(this.chatList[msgIndex], 'pending', false);\n\n          // ËÆ∞ÂΩïÊ∂àÊÅØID\n          if (messageId) {\n            this.processedMessageIds.add(messageId);\n          }\n\n          // ÂèëÈÄÅWebSocketÊ∂àÊÅØÈÄöÁü•ÂØπÊñπ\n          if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n            const wsMessage = {\n              type: 'chat',\n              messageId: messageId,\n              // ÂåÖÂê´Ê∂àÊÅØIDÔºåÈÅøÂÖçÈáçÂ§ç‰øùÂ≠ò\n              fromUserId: this.user.id,\n              fromUserName: this.user.name,\n              fromUserAvatar: this.user.avatar,\n              toUserId: this.active,\n              content: tempMsg.text,\n              contentType: 'text',\n              timestamp: tempMsg.timestamp\n            };\n            this.ws.send(JSON.stringify(wsMessage));\n          }\n        } else {\n          // ÂèëÈÄÅÂ§±Ë¥•ÔºåÊõ¥Êñ∞Ê∂àÊÅØÁä∂ÊÄÅ\n          this.$set(this.chatList[msgIndex], 'error', true);\n          this.$message.error('ÂèëÈÄÅÂ§±Ë¥•');\n        }\n      }).catch(err => {\n        console.error('ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•:', err);\n        this.$set(this.chatList[msgIndex], 'error', true);\n        this.$message.error('ÂèëÈÄÅÂ§±Ë¥•ÔºåËØ∑ÈáçËØï');\n      });\n    },\n    insertEmoji(emoji) {\n      this.content += emoji;\n      this.showEmoji = false;\n    },\n    closeEmojiPanel(e) {\n      const emojiTool = document.querySelector('.emoji-tool');\n      if (emojiTool && !emojiTool.contains(e.target)) {\n        this.showEmoji = false;\n      }\n    },\n    handleImageSuccess(response, file) {\n      if (response.code === '200') {\n        // ÂàõÂª∫‰∏¥Êó∂ÂõæÁâáÊ∂àÊÅØ\n        const tempMsg = {\n          userId: this.user.id,\n          chatUserId: this.active,\n          text: response.data,\n          contentType: 'image',\n          fileType: 'image',\n          fileUrl: response.data,\n          userName: this.user.name,\n          userAvatar: this.user.avatar,\n          timestamp: new Date().getTime(),\n          pending: true\n        };\n\n        // Ê∑ªÂä†Âà∞Êú¨Âú∞ËÅäÂ§©ÂàóË°®\n        const msgIndex = this.chatList.length;\n        this.$set(this.chatList, msgIndex, tempMsg);\n\n        // ‰øùÂ≠òÂà∞ÊúçÂä°Âô®\n        this.$request.post('/chatInfo/add', {\n          userId: this.user.id,\n          chatUserId: this.active,\n          text: tempMsg.text,\n          contentType: tempMsg.contentType,\n          fileType: tempMsg.fileType,\n          fileUrl: tempMsg.fileUrl\n        }).then(res => {\n          if (res.code === '200') {\n            const messageId = res.data;\n\n            // Êõ¥Êñ∞Êú¨Âú∞Ê∂àÊÅØÁä∂ÊÄÅ\n            this.$set(this.chatList[msgIndex], 'id', messageId);\n            this.$set(this.chatList[msgIndex], 'pending', false);\n            if (messageId) {\n              this.processedMessageIds.add(messageId);\n            }\n\n            // ÂèëÈÄÅWebSocketÊ∂àÊÅØ\n            if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n              const wsMessage = {\n                type: 'chat',\n                messageId: messageId,\n                fromUserId: this.user.id,\n                fromUserName: this.user.name,\n                fromUserAvatar: this.user.avatar,\n                toUserId: this.active,\n                content: response.data,\n                contentType: 'image',\n                fileType: 'image',\n                fileUrl: response.data,\n                timestamp: tempMsg.timestamp\n              };\n              this.ws.send(JSON.stringify(wsMessage));\n            }\n          } else {\n            this.$set(this.chatList[msgIndex], 'error', true);\n            this.$message.error('ÂèëÈÄÅÂ§±Ë¥•');\n          }\n        });\n      }\n    },\n    handleFileSuccess(response, file) {\n      if (response.code === '200') {\n        // Áõ¥Êé•ÈÄöËøáWebSocketÂèëÈÄÅÊñá‰ª∂Ê∂àÊÅØ\n        const wsMessage = {\n          type: 'chat',\n          fromUserId: this.user.id,\n          fromUserName: this.user.name,\n          fromUserAvatar: this.user.avatar,\n          toUserId: this.active,\n          content: response.data,\n          contentType: 'file',\n          fileType: file.type || 'unknown',\n          fileUrl: response.data,\n          fileName: file.name,\n          timestamp: new Date().getTime()\n        };\n        if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n          this.ws.send(JSON.stringify(wsMessage));\n        } else {\n          this.$message.error('ÂèëÈÄÅÂ§±Ë¥•ÔºåWebSocketÊú™ËøûÊé•');\n        }\n      }\n    },\n    previewImage(imageUrl) {\n      // ÂÆûÁé∞ÂõæÁâáÈ¢ÑËßàÈÄªËæë\n    }\n  }\n};","map":{"version":3,"names":["data","user","JSON","parse","localStorage","getItem","userList","chatList","chatTitle","active","content","activeUserAvatar","ws","showEmoji","processedMessageIds","Set","emojiList","mounted","id","console","error","$message","log","loadUserList","then","toUserId","$route","query","target","find","u","chatUserId","changeChatUser","$request","post","userId","added","initWebSocket","window","addEventListener","closeWebSocket","document","closeEmojiPanel","beforeDestroy","removeEventListener","methods","get","res","code","item","chatUserName","chatUserAvatar","put","loadChatRecord","unreadCount","index","findIndex","$set","clear","messages","forEach","msg","add","push","$nextTick","box","$refs","chatBox","scrollTop","scrollHeight","WebSocket","wsUrl","location","hostname","onopen","startHeartbeat","onmessage","e","type","fromUserId","messageId","has","newMsg","text","contentType","fileType","fileUrl","fileName","userName","fromUserName","userAvatar","fromUserAvatar","timestamp","length","readyState","OPEN","ack","status","Date","getTime","send","stringify","onclose","heartbeatTimer","clearInterval","setTimeout","onerror","setInterval","heartbeat","close","trim","warning","tempMsg","name","avatar","pending","msgIndex","wsMessage","catch","err","insertEmoji","emoji","emojiTool","querySelector","contains","handleImageSuccess","response","file","handleFileSuccess","previewImage","imageUrl"],"sources":["src/views/front/Chat.vue"],"sourcesContent":["<template>\n  <div class=\"chat-page\">\n    <div class=\"chat-user-list\">\n      <div\n        v-for=\"item in userList\"\n        :key=\"item.chatUserId\"\n        :class=\"['chat-user', item.chatUserId === active ? 'active' : '']\"\n        @click=\"changeChatUser(item)\">\n        <div class=\"user-avatar\">\n          <img :src=\"item.chatUserAvatar\" alt=\"\">\n          <span v-if=\"item.unreadCount\" class=\"unread-count\">{{ item.unreadCount }}</span>\n        </div>\n        <div class=\"user-info\">\n          <div class=\"user-name\">{{ item.chatUserName }}</div>\n          <div class=\"last-msg\">{{ item.lastMessage }}</div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"chat-main\" v-if=\"active\">\n      <div class=\"chat-header\">\n        <div class=\"chat-title\">\n          <img :src=\"activeUserAvatar\" alt=\"\" class=\"title-avatar\">\n          <span>{{ chatTitle }}</span>\n        </div>\n        <div class=\"chat-actions\">\n          <i class=\"el-icon-more\"></i>\n        </div>\n      </div>\n\n      <div class=\"chat-box\" ref=\"chatBox\">\n        <div\n          v-for=\"(item, index) in chatList\"\n          :key=\"index\"\n          :class=\"['msg-box', item.userId === user.id ? 'right' : 'left']\">\n          <img\n            class=\"avatar\"\n            :src=\"item.userId === user.id ? user.avatar : activeUserAvatar\"\n            alt=\"Â§¥ÂÉè\">\n          <div class=\"msg-content\">\n            <div class=\"msg-text\" v-if=\"!item.contentType || item.contentType === 'text'\">{{ item.text }}</div>\n            <div class=\"msg-image\" v-else-if=\"item.contentType === 'image'\" @click=\"previewImage(item.text)\">\n              <el-image \n                :src=\"item.text\" \n                :preview-src-list=\"[item.text]\"\n                fit=\"cover\">\n              </el-image>\n            </div>\n            <div class=\"msg-file\" v-else-if=\"item.contentType === 'file'\">\n              <i class=\"el-icon-document\"></i>\n              <span class=\"file-name\">{{ item.fileName || 'Êñá‰ª∂' }}</span>\n              <a :href=\"item.text\" target=\"_blank\" class=\"download-btn\">‰∏ãËΩΩ</a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"chat-input\">\n        <div class=\"input-tools\">\n          <div class=\"emoji-tool\">\n            <i class=\"el-icon-sunny\" @click=\"showEmoji = !showEmoji\"></i>\n            <div class=\"emoji-panel\" v-show=\"showEmoji\">\n              <div class=\"emoji-list\">\n                <span\n                  v-for=\"(emoji, index) in emojiList\"\n                  :key=\"index\"\n                  @click=\"insertEmoji(emoji)\"\n                  class=\"emoji-item\"\n                >{{ emoji }}</span>\n              </div>\n            </div>\n          </div>\n          <el-upload\n            class=\"upload-demo\"\n            :action=\"$baseUrl + '/files/upload'\"\n            :headers=\"{ token: user.token }\"\n            :show-file-list=\"false\"\n            :on-success=\"handleImageSuccess\"\n            accept=\"image/*\">\n            <i class=\"el-icon-picture-outline\"></i>\n          </el-upload>\n          <el-upload\n            class=\"upload-demo\"\n            :action=\"$baseUrl + '/files/upload'\"\n            :headers=\"{ token: user.token }\"\n            :show-file-list=\"false\"\n            :on-success=\"handleFileSuccess\"\n            accept=\"*\">\n            <i class=\"el-icon-folder\"></i>\n          </el-upload>\n        </div>\n        <div class=\"input-box\">\n          <el-input\n            v-model=\"content\"\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"ËØ∑ËæìÂÖ•ËÅäÂ§©ÂÜÖÂÆπ\"\n            @keyup.enter.native=\"send\"\n            resize=\"none\">\n          </el-input>\n          <el-button type=\"primary\" class=\"send-btn\" @click=\"send\">ÂèëÈÄÅ</el-button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"chat-welcome\" v-else>\n      <div class=\"welcome-content\">\n        <i class=\"el-icon-chat-line-round\"></i>\n        <p>ÈÄâÊã©‰∏Ä‰∏™ËÅîÁ≥ª‰∫∫ÂºÄÂßãËÅäÂ§©</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      userList: [],\n      chatList: [],\n      chatTitle: '',\n      active: null,\n      content: '',\n      activeUserAvatar: '',\n      ws: null,\n      showEmoji: false,\n      processedMessageIds: new Set(),\n      emojiList: [\n        'üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'üòÇ', 'ü§£', 'üòä', 'üòá',\n        'üôÇ', 'üôÉ', 'üòâ', 'üòå', 'üòç', 'ü•∞', 'üòò', 'üòó', 'üòô', 'üòö',\n        'üòã', 'üòõ', 'üòù', 'üòú', 'ü§™', 'ü§®', 'üßê', 'ü§ì', 'üòé', 'ü§©',\n        'ü•≥', 'üòè', 'üòí', 'üòû', 'üòî', 'üòü', 'üòï', 'üôÅ', '‚òπÔ∏è', 'üò£',\n        'üòñ', 'üò´', 'üò©', 'ü•∫', 'üò¢', 'üò≠', 'üò§', 'üò†', 'üò°', 'ü§¨',\n        'ü§Ø', 'üò≥', 'ü•µ', 'ü•∂', 'üò±', 'üò®', 'üò∞', 'üò•', 'üòì', 'ü§ó',\n        'ü§î', 'ü§≠', 'ü§´', 'ü§•', 'üò∂', 'üòê', 'üòë', 'üò¨', 'üôÑ', 'üòØ',\n        'üò¶', 'üòß', 'üòÆ', 'üò≤', 'ü•±', 'üò¥', 'ü§§', 'üò™', 'üòµ', 'ü§ê',\n        'ü•¥', 'ü§¢', 'ü§Æ', 'ü§ß', 'üò∑', 'ü§í', 'ü§ï', 'ü§ë', 'ü§†', 'üòà',\n        'üëø', 'üëπ', 'üë∫', 'ü§°', 'üí©', 'üëª', 'üíÄ', '‚ò†Ô∏è', 'üëΩ', 'üëæ'\n      ]\n    }\n  },\n  mounted() {\n    // Á°Æ‰øùÁî®Êà∑‰ø°ÊÅØÂ≠òÂú®\n    if (!this.user || !this.user.id) {\n      console.error('Áî®Êà∑Êú™ÁôªÂΩï');\n      this.$message.error('ËØ∑ÂÖàÁôªÂΩï');\n      return;\n    }\n\n    console.log('ÂΩìÂâçÁî®Êà∑‰ø°ÊÅØ:', this.user); // Ê∑ªÂä†Êó•Âøó\n    \n    this.loadUserList().then(() => {\n      const toUserId = this.$route.query.toUserId;\n      if (toUserId) {\n        const target = this.userList.find(u => u.chatUserId == toUserId);\n        if (target) {\n          this.changeChatUser(target);\n        } else {\n          this.$request.post('/chatGroup/add', {\n            userId: this.user.id,\n            chatUserId: toUserId\n          }).then(() => {\n            this.loadUserList().then(() => {\n              const added = this.userList.find(u => u.chatUserId == toUserId);\n              if (added) this.changeChatUser(added);\n            });\n          });\n        }\n      }\n    });\n\n    // ÂàùÂßãÂåñWebSocketËøûÊé•\n    this.initWebSocket();\n    \n    // Ê∑ªÂä†È°µÈù¢ÂÖ≥Èó≠‰∫ã‰ª∂ÁõëÂê¨\n    window.addEventListener('beforeunload', this.closeWebSocket);\n    document.addEventListener('click', this.closeEmojiPanel);\n  },\n  beforeDestroy() {\n    if (this.ws) {\n      this.closeWebSocket();\n    }\n    // ÁßªÈô§È°µÈù¢ÂÖ≥Èó≠‰∫ã‰ª∂ÁõëÂê¨\n    window.removeEventListener('beforeunload', this.closeWebSocket);\n    document.removeEventListener('click', this.closeEmojiPanel);\n  },\n  methods: {\n    loadUserList() {\n      return this.$request.get('/chatGroup/selectUserGroup').then(res => {\n        if (res.code === '200') {\n          this.userList = res.data;\n        }\n      });\n    },\n    changeChatUser(item) {\n      this.chatTitle = item.chatUserName || 'ÂØπÊñπ';\n      this.active = item.chatUserId;\n      this.activeUserAvatar = item.chatUserAvatar;\n      this.$request.put(`/chatInfo/updateRead/${item.chatUserId}`);\n      this.loadChatRecord();\n      // Ê∏ÖÈô§Êú™ËØªÊ∂àÊÅØÊï∞\n      if (item.unreadCount) {\n        const index = this.userList.findIndex(u => u.chatUserId === item.chatUserId);\n        if (index !== -1) {\n          this.$set(this.userList[index], 'unreadCount', 0);\n        }\n      }\n    },\n    loadChatRecord() {\n      this.$request.get(`/chatInfo/selectUserChat/${this.active}`).then(res => {\n        if (res.code === '200') {\n          // Ê∏ÖÁ©∫Â∑≤Â§ÑÁêÜÊ∂àÊÅØIDÈõÜÂêà\n          this.processedMessageIds.clear();\n          // ÈáçÁΩÆËÅäÂ§©ÂàóË°®\n          this.chatList = [];\n          \n          // Ê∑ªÂä†ÂéÜÂè≤Ê∂àÊÅØÔºåÂπ∂ËÆ∞ÂΩïÊ∂àÊÅØID\n          const messages = res.data || [];\n          messages.forEach(msg => {\n            this.processedMessageIds.add(msg.id);\n            this.chatList.push(msg);\n          });\n\n          this.$nextTick(() => {\n            const box = this.$refs.chatBox;\n            if (box) box.scrollTop = box.scrollHeight;\n          });\n        }\n      });\n    },\n    initWebSocket() {\n      if (typeof WebSocket === 'undefined') {\n        this.$message.error('ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅWebSocket');\n        return;\n      }\n      this.closeWebSocket();\n      \n      // ‰øÆÊîπWebSocketËøûÊé•Âú∞ÂùÄÔºå‰ΩøÁî®ÂêéÁ´ØÊúçÂä°Âô®Âú∞ÂùÄ\n      const wsUrl = `ws://${window.location.hostname}:9090/chatServer/${this.user.id}`;\n      console.log('Ê≠£Âú®ËøûÊé•WebSocket:', wsUrl); // Ê∑ªÂä†Êó•Âøó\n      this.ws = new WebSocket(wsUrl);\n      \n      this.ws.onopen = () => {\n        console.log('WebSocketËøûÊé•ÊàêÂäü');\n        // ÂºÄÂßãÂèëÈÄÅÂøÉË∑≥\n        this.startHeartbeat();\n      };\n      \n      this.ws.onmessage = (e) => {\n        try {\n          const data = JSON.parse(e.data);\n          console.log('Êî∂Âà∞WebSocketÊ∂àÊÅØ:', data);\n          \n          if (data.type === 'chat') {\n            // Ê£ÄÊü•Ê∂àÊÅØÊòØÂê¶ÊúâÊïà\n            if (!data.fromUserId || !data.toUserId) {\n              console.error('Êó†ÊïàÁöÑÊ∂àÊÅØÊ†ºÂºè:', data);\n              return;\n            }\n\n            // Ê£ÄÊü•Ê∂àÊÅØIDÊòØÂê¶Â≠òÂú®‰∏îÊú™Ë¢´Â§ÑÁêÜ\n            if (data.messageId && this.processedMessageIds.has(data.messageId)) {\n              console.log('Ê∂àÊÅØÂ∑≤Â§ÑÁêÜÔºåË∑≥Ëøá:', data.messageId);\n              return;\n            }\n\n            // Â¶ÇÊûúÊòØÂΩìÂâçËÅäÂ§©ÂØπË±°ÁöÑÊ∂àÊÅØ\n            if ((data.fromUserId === this.active && data.toUserId === this.user.id) || \n                (data.toUserId === this.active && data.fromUserId === this.user.id)) {\n              \n              const newMsg = {\n                id: data.messageId,\n                userId: data.fromUserId,\n                chatUserId: data.toUserId,\n                text: data.content,\n                contentType: data.contentType || 'text',\n                fileType: data.fileType,\n                fileUrl: data.fileUrl,\n                fileName: data.fileName,\n                userName: data.fromUserName,\n                userAvatar: data.fromUserAvatar,\n                timestamp: data.timestamp\n              };\n              \n              // ËÆ∞ÂΩïÊ∂àÊÅØIDÂπ∂Ê∑ªÂä†Âà∞ÂàóË°®\n              if (data.messageId) {\n                this.processedMessageIds.add(data.messageId);\n              }\n              this.$set(this.chatList, this.chatList.length, newMsg);\n              \n              // Â¶ÇÊûúÊòØÊî∂Âà∞ÁöÑÊ∂àÊÅØÔºåÊ†áËÆ∞‰∏∫Â∑≤ËØªÂπ∂ÂèëÈÄÅÁ°ÆËÆ§\n              if (data.toUserId === this.user.id) {\n                this.$request.put(`/chatInfo/updateRead/${data.fromUserId}`);\n                // ÂèëÈÄÅÊ∂àÊÅØÁ°ÆËÆ§\n                if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n                  const ack = {\n                    type: 'ack',\n                    messageId: data.messageId,\n                    status: 'received',\n                    timestamp: new Date().getTime()\n                  };\n                  this.ws.send(JSON.stringify(ack));\n                }\n              }\n              \n              this.$nextTick(() => {\n                const box = this.$refs.chatBox;\n                if (box) box.scrollTop = box.scrollHeight;\n              });\n            }\n            // Âà∑Êñ∞ËÅäÂ§©ÂàóË°®\n            this.loadUserList();\n          } else if (data.type === 'ack') {\n            // Â§ÑÁêÜÊ∂àÊÅØÁ°ÆËÆ§\n            console.log('Êî∂Âà∞Ê∂àÊÅØÁ°ÆËÆ§:', data);\n            if (data.status === 'error') {\n              this.$message.error(data.error || 'Ê∂àÊÅØÂèëÈÄÅÂ§±Ë¥•');\n            } else if (data.status === 'received') {\n              console.log('Ê∂àÊÅØÂ∑≤ÈÄÅËææ:', data.messageId);\n            }\n          }\n        } catch (error) {\n          console.error('Ëß£ÊûêWebSocketÊ∂àÊÅØÂ§±Ë¥•:', error, e.data);\n        }\n      };\n      \n      this.ws.onclose = () => {\n        console.log('WebSocketËøûÊé•ÂÖ≥Èó≠');\n        // Ê∏ÖÈô§ÂøÉË∑≥ÂÆöÊó∂Âô®\n        if (this.heartbeatTimer) {\n          clearInterval(this.heartbeatTimer);\n          this.heartbeatTimer = null;\n        }\n        // 3ÁßíÂêéÈáçËøû\n        setTimeout(() => {\n          this.initWebSocket();\n        }, 3000);\n      };\n      \n      this.ws.onerror = () => {\n        console.error('WebSocketËøûÊé•ÈîôËØØ');\n        this.closeWebSocket();\n      };\n    },\n    startHeartbeat() {\n      // ÊØè30ÁßíÂèëÈÄÅ‰∏ÄÊ¨°ÂøÉË∑≥\n      this.heartbeatTimer = setInterval(() => {\n        if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n          const heartbeat = {\n            type: 'heartbeat',\n            userId: this.user.id,\n            timestamp: new Date().getTime()\n          };\n          this.ws.send(JSON.stringify(heartbeat));\n        }\n      }, 30000);\n    },\n    closeWebSocket() {\n      if (this.heartbeatTimer) {\n        clearInterval(this.heartbeatTimer);\n        this.heartbeatTimer = null;\n      }\n      if (this.ws) {\n        this.ws.close();\n        this.ws = null;\n      }\n    },\n    send() {\n      if (!this.content.trim()) return;\n      \n      // Ê£ÄÊü•WebSocketËøûÊé•Áä∂ÊÄÅ\n      if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {\n        console.log('WebSocketÊú™ËøûÊé•ÔºåÂ∞ùËØïÈáçÊñ∞ËøûÊé•...');\n        this.$message.warning('Ê≠£Âú®ÈáçÊñ∞ËøûÊé•ÊúçÂä°Âô®...');\n        this.initWebSocket();\n        setTimeout(() => {\n          this.send();\n        }, 1000);\n        return;\n      }\n      \n      // ÂàõÂª∫‰∏¥Êó∂Ê∂àÊÅØÂØπË±°Áî®‰∫éÂâçÁ´ØÊòæÁ§∫\n      const tempMsg = {\n        userId: this.user.id,\n        chatUserId: this.active,\n        text: this.content,\n        contentType: 'text',\n        fileType: null,\n        fileUrl: null,\n        userName: this.user.name,\n        userAvatar: this.user.avatar,\n        timestamp: new Date().getTime(),\n        pending: true // Ê†áËÆ∞‰∏∫ÂæÖÁ°ÆËÆ§Áä∂ÊÄÅ\n      };\n      \n      // ÂÖàÊ∑ªÂä†Âà∞Êú¨Âú∞ËÅäÂ§©ÂàóË°®ÔºåÂÆûÁé∞Âç≥Êó∂ÊòæÁ§∫\n      const msgIndex = this.chatList.length;\n      this.$set(this.chatList, msgIndex, tempMsg);\n      \n      // Ê∏ÖÁ©∫ËæìÂÖ•Ê°ÜÂπ∂ÊªöÂä®Âà∞Â∫ïÈÉ®\n      this.content = '';\n      this.$nextTick(() => {\n        const box = this.$refs.chatBox;\n        if (box) box.scrollTop = box.scrollHeight;\n      });\n\n      // ÂèëÈÄÅÊ∂àÊÅØÂà∞ÊúçÂä°Âô®\n      this.$request.post('/chatInfo/add', {\n        userId: this.user.id,\n        chatUserId: this.active,\n        text: tempMsg.text,\n        contentType: tempMsg.contentType,\n        fileType: tempMsg.fileType,\n        fileUrl: tempMsg.fileUrl\n      }).then(res => {\n        if (res.code === '200') {\n          const messageId = res.data;\n          \n          // Êõ¥Êñ∞Êú¨Âú∞Ê∂àÊÅØÔºåÁßªÈô§pendingÁä∂ÊÄÅ\n          this.$set(this.chatList[msgIndex], 'id', messageId);\n          this.$set(this.chatList[msgIndex], 'pending', false);\n          \n          // ËÆ∞ÂΩïÊ∂àÊÅØID\n          if (messageId) {\n            this.processedMessageIds.add(messageId);\n          }\n\n          // ÂèëÈÄÅWebSocketÊ∂àÊÅØÈÄöÁü•ÂØπÊñπ\n          if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n            const wsMessage = {\n              type: 'chat',\n              messageId: messageId, // ÂåÖÂê´Ê∂àÊÅØIDÔºåÈÅøÂÖçÈáçÂ§ç‰øùÂ≠ò\n              fromUserId: this.user.id,\n              fromUserName: this.user.name,\n              fromUserAvatar: this.user.avatar,\n              toUserId: this.active,\n              content: tempMsg.text,\n              contentType: 'text',\n              timestamp: tempMsg.timestamp\n            };\n            this.ws.send(JSON.stringify(wsMessage));\n          }\n        } else {\n          // ÂèëÈÄÅÂ§±Ë¥•ÔºåÊõ¥Êñ∞Ê∂àÊÅØÁä∂ÊÄÅ\n          this.$set(this.chatList[msgIndex], 'error', true);\n          this.$message.error('ÂèëÈÄÅÂ§±Ë¥•');\n        }\n      }).catch(err => {\n        console.error('ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•:', err);\n        this.$set(this.chatList[msgIndex], 'error', true);\n        this.$message.error('ÂèëÈÄÅÂ§±Ë¥•ÔºåËØ∑ÈáçËØï');\n      });\n    },\n    insertEmoji(emoji) {\n      this.content += emoji;\n      this.showEmoji = false;\n    },\n    closeEmojiPanel(e) {\n      const emojiTool = document.querySelector('.emoji-tool');\n      if (emojiTool && !emojiTool.contains(e.target)) {\n        this.showEmoji = false;\n      }\n    },\n    handleImageSuccess(response, file) {\n      if (response.code === '200') {\n        // ÂàõÂª∫‰∏¥Êó∂ÂõæÁâáÊ∂àÊÅØ\n        const tempMsg = {\n          userId: this.user.id,\n          chatUserId: this.active,\n          text: response.data,\n          contentType: 'image',\n          fileType: 'image',\n          fileUrl: response.data,\n          userName: this.user.name,\n          userAvatar: this.user.avatar,\n          timestamp: new Date().getTime(),\n          pending: true\n        };\n        \n        // Ê∑ªÂä†Âà∞Êú¨Âú∞ËÅäÂ§©ÂàóË°®\n        const msgIndex = this.chatList.length;\n        this.$set(this.chatList, msgIndex, tempMsg);\n        \n        // ‰øùÂ≠òÂà∞ÊúçÂä°Âô®\n        this.$request.post('/chatInfo/add', {\n          userId: this.user.id,\n          chatUserId: this.active,\n          text: tempMsg.text,\n          contentType: tempMsg.contentType,\n          fileType: tempMsg.fileType,\n          fileUrl: tempMsg.fileUrl\n        }).then(res => {\n          if (res.code === '200') {\n            const messageId = res.data;\n            \n            // Êõ¥Êñ∞Êú¨Âú∞Ê∂àÊÅØÁä∂ÊÄÅ\n            this.$set(this.chatList[msgIndex], 'id', messageId);\n            this.$set(this.chatList[msgIndex], 'pending', false);\n            \n            if (messageId) {\n              this.processedMessageIds.add(messageId);\n            }\n\n            // ÂèëÈÄÅWebSocketÊ∂àÊÅØ\n            if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n              const wsMessage = {\n                type: 'chat',\n                messageId: messageId,\n                fromUserId: this.user.id,\n                fromUserName: this.user.name,\n                fromUserAvatar: this.user.avatar,\n                toUserId: this.active,\n                content: response.data,\n                contentType: 'image',\n                fileType: 'image',\n                fileUrl: response.data,\n                timestamp: tempMsg.timestamp\n              };\n              this.ws.send(JSON.stringify(wsMessage));\n            }\n          } else {\n            this.$set(this.chatList[msgIndex], 'error', true);\n            this.$message.error('ÂèëÈÄÅÂ§±Ë¥•');\n          }\n        });\n      }\n    },\n    handleFileSuccess(response, file) {\n      if (response.code === '200') {\n        // Áõ¥Êé•ÈÄöËøáWebSocketÂèëÈÄÅÊñá‰ª∂Ê∂àÊÅØ\n        const wsMessage = {\n          type: 'chat',\n          fromUserId: this.user.id,\n          fromUserName: this.user.name,\n          fromUserAvatar: this.user.avatar,\n          toUserId: this.active,\n          content: response.data,\n          contentType: 'file',\n          fileType: file.type || 'unknown',\n          fileUrl: response.data,\n          fileName: file.name,\n          timestamp: new Date().getTime()\n        };\n        \n        if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n          this.ws.send(JSON.stringify(wsMessage));\n        } else {\n          this.$message.error('ÂèëÈÄÅÂ§±Ë¥•ÔºåWebSocketÊú™ËøûÊé•');\n        }\n      }\n    },\n    previewImage(imageUrl) {\n      // ÂÆûÁé∞ÂõæÁâáÈ¢ÑËßàÈÄªËæë\n    }\n  }\n}\n</script>\n\n<style scoped>\n.chat-page {\n  display: flex;\n  height: 85vh;\n  background: #f5f5f5;\n  margin: 20px;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.chat-user-list {\n  width: 280px;\n  background: #f5f5f5;\n  border-right: 1px solid #e6e6e6;\n  display: flex;\n  flex-direction: column;\n}\n\n.chat-user {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  cursor: pointer;\n  position: relative;\n}\n\n.chat-user:hover,\n.chat-user.active {\n  background-color: #e6e6e6;\n}\n\n.user-avatar {\n  position: relative;\n  margin-right: 12px;\n}\n\n.user-avatar img {\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n}\n\n.unread-count {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  background: #f56c6c;\n  color: white;\n  border-radius: 10px;\n  min-width: 18px;\n  height: 18px;\n  line-height: 18px;\n  text-align: center;\n  font-size: 12px;\n  padding: 0 6px;\n}\n\n.user-info {\n  flex: 1;\n  min-width: 0;\n}\n\n.user-name {\n  font-size: 14px;\n  color: #333;\n  margin-bottom: 4px;\n}\n\n.last-msg {\n  font-size: 12px;\n  color: #999;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.chat-main {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: #f5f5f5;\n}\n\n.chat-header {\n  height: 60px;\n  background: #f5f5f5;\n  border-bottom: 1px solid #e6e6e6;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 20px;\n}\n\n.chat-title {\n  display: flex;\n  align-items: center;\n}\n\n.title-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n  margin-right: 10px;\n}\n\n.chat-actions {\n  color: #666;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n.chat-box {\n  flex: 1;\n  padding: 20px;\n  overflow-y: auto;\n  background: #f5f5f5;\n}\n\n.msg-box {\n  display: flex;\n  margin-bottom: 20px;\n}\n\n.msg-box.left {\n  flex-direction: row;\n}\n\n.msg-box.right {\n  flex-direction: row-reverse;\n}\n\n.avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n  margin: 0 10px;\n}\n\n.msg-content {\n  max-width: 60%;\n}\n\n.msg-text {\n  background: white;\n  padding: 10px 15px;\n  border-radius: 4px;\n  font-size: 16px;\n  line-height: 1.5;\n  word-wrap: break-word;\n  word-break: break-all;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  white-space: pre-wrap;\n}\n\n.msg-box.right .msg-text {\n  background: #95ec69;\n}\n\n.chat-input {\n  background: #f5f5f5;\n  border-top: 1px solid #e6e6e6;\n  padding: 10px;\n}\n\n.input-tools {\n  display: flex;\n  padding: 5px 0;\n}\n\n.input-tools i {\n  font-size: 20px;\n  color: #666;\n  margin-right: 15px;\n  cursor: pointer;\n}\n\n.input-box {\n  margin: 5px 0;\n  position: relative;\n  display: flex;\n  align-items: flex-start;\n  gap: 10px;\n}\n\n.input-box .el-textarea {\n  flex: 1;\n}\n\n.send-btn {\n  height: 65px;\n  padding: 0 20px;\n}\n\n.input-actions {\n  display: none;\n}\n\n.chat-welcome {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #f5f5f5;\n  border-left: 1px solid #e6e6e6;\n}\n\n.welcome-content {\n  text-align: center;\n  color: #909399;\n}\n\n.welcome-content i {\n  font-size: 80px;\n  margin-bottom: 20px;\n}\n\n.welcome-content p {\n  font-size: 16px;\n  margin: 0;\n}\n\n.emoji-tool {\n  position: relative;\n  display: inline-block;\n}\n\n.emoji-panel {\n  position: absolute;\n  bottom: 40px;\n  left: 0;\n  width: 360px;\n  height: 200px;\n  background: white;\n  border: 1px solid #e6e6e6;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\n  padding: 10px;\n  z-index: 1000;\n}\n\n.emoji-list {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  gap: 5px;\n  height: 100%;\n  overflow-y: auto;\n}\n\n.emoji-item {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 5px;\n  transition: all 0.3s;\n}\n\n.emoji-item:hover {\n  background: #f5f5f5;\n  border-radius: 4px;\n}\n\n/* Ëá™ÂÆö‰πâÊªöÂä®Êù°Ê†∑Âºè */\n.emoji-list::-webkit-scrollbar {\n  width: 6px;\n}\n\n.emoji-list::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.emoji-list::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n/* Á°Æ‰øùË°®ÊÉÖÂú®Ê∂àÊÅØ‰∏≠Ê≠£Á°ÆÊòæÁ§∫ */\n.msg-text img.emoji {\n  width: 20px;\n  height: 20px;\n  vertical-align: middle;\n  margin: 0 1px;\n}\n\n.msg-image {\n  max-width: 200px;\n  cursor: pointer;\n}\n\n.msg-image .el-image {\n  width: 100%;\n  max-width: 200px;\n  border-radius: 4px;\n}\n\n.msg-file {\n  display: flex;\n  align-items: center;\n  background: white;\n  padding: 10px 15px;\n  border-radius: 4px;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.msg-file i {\n  font-size: 24px;\n  color: #409EFF;\n  margin-right: 10px;\n}\n\n.file-name {\n  flex: 1;\n  font-size: 14px;\n  color: #333;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-right: 10px;\n}\n\n.download-btn {\n  color: #409EFF;\n  text-decoration: none;\n}\n\n.msg-box.right .download-btn {\n  color: #2b5f0d;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
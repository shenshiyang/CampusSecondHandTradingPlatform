{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Orders\",\n  data() {\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      url: \"selectPage\",\n      goodsName: \"\",\n      orderNo: \"\",\n      statusMap: {\n        CANCEL: {\n          text: \"已取消\",\n          type: \"danger\"\n        },\n        NOTPAY: {\n          text: \"待支付\",\n          type: \"info\"\n        },\n        NOTSEND: {\n          text: \"待发货\",\n          type: \"warning\"\n        },\n        NOTRECIEVE: {\n          text: \"待收货\",\n          type: \"primary\"\n        },\n        DONE: {\n          text: \"已完成\",\n          type: \"success\"\n        }\n      }\n    };\n  },\n  created() {\n    this.load(1);\n  },\n  methods: {\n    load(pageNum) {\n      this.pageNum = pageNum;\n      this.$request.get(`/orders/${this.url}`, {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          goodsName: this.goodsName,\n          orderNo: this.orderNo\n        }\n      }).then(res => {\n        if (res.code === \"200\") {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    handleDetail(row) {\n      this.$router.push(\"/front/goodsDetail?id=\" + row.goodsId);\n    },\n    cancel(id) {\n      this.$confirm(\"是否取消订单？\", \"提示\", {\n        type: \"warning\"\n      }).then(() => {\n        this.$request.post(\"/orders/cancel/\" + id).then(res => {\n          if (res.code === \"200\") {\n            this.$message.success(\"取消成功\");\n            this.load(1);\n          } else {\n            this.$message.error(res.msg);\n          }\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","tableData","pageNum","pageSize","total","url","goodsName","orderNo","statusMap","CANCEL","text","type","NOTPAY","NOTSEND","NOTRECIEVE","DONE","created","load","methods","$request","get","params","then","res","code","list","$message","error","msg","handleDetail","row","$router","push","goodsId","cancel","id","$confirm","post","success"],"sources":["src/views/front/Orders.vue"],"sourcesContent":["<template>\n  <div class=\"orders-container\">\n    <div class=\"filter-bar\">\n      <el-radio-group v-model=\"url\" @change=\"load(1)\">\n        <el-radio-button label=\"selectPage\">我购买的订单</el-radio-button>\n        <el-radio-button label=\"selectSalePage\">我出售的订单</el-radio-button>\n      </el-radio-group>\n\n      <div class=\"search-inputs\">\n        <el-input\n          v-model=\"goodsName\"\n          placeholder=\"请输入商品名称\"\n          clearable\n          class=\"search-box\"\n        />\n        <el-input\n          v-model=\"orderNo\"\n          placeholder=\"请输入订单编号\"\n          clearable\n          class=\"search-box\"\n        />\n        <el-button type=\"primary\" @click=\"load(1)\">搜索</el-button>\n      </div>\n    </div>\n\n    <el-table\n      :data=\"tableData\"\n      stripe\n      border\n      empty-text=\"暂无数据\"\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"orderNo\" label=\"订单编号\" align=\"center\" />\n      <el-table-column prop=\"goodsName\" label=\"商品名称\" align=\"center\" show-overflow-tooltip />\n      <el-table-column prop=\"totalAmount\" label=\"金额\" align=\"center\" />\n      <el-table-column prop=\"address\" label=\"收货地址\" align=\"center\" show-overflow-tooltip />\n      <el-table-column prop=\"status\" label=\"状态\" align=\"center\">\n        <template v-slot=\"scope\">\n          <el-tag :type=\"statusMap[scope.row.status].type\">\n            {{ statusMap[scope.row.status].text }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" width=\"160\">\n        <template v-slot=\"scope\">\n          <el-button type=\"text\" @click=\"handleDetail(scope.row)\">详情</el-button>\n          <el-button\n            v-if=\"scope.row.status === 'NOTPAY'\"\n            type=\"text\"\n            @click=\"cancel(scope.row.id)\"\n          >\n            取消\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"pagination-bar\">\n      <el-pagination\n        background\n        @current-change=\"load\"\n        :current-page=\"pageNum\"\n        :page-size=\"pageSize\"\n        layout=\"total, prev, pager, next\"\n        :total=\"total\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Orders\",\n  data() {\n    return {\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      url: \"selectPage\",\n      goodsName: \"\",\n      orderNo: \"\",\n      statusMap: {\n        CANCEL: { text: \"已取消\", type: \"danger\" },\n        NOTPAY: { text: \"待支付\", type: \"info\" },\n        NOTSEND: { text: \"待发货\", type: \"warning\" },\n        NOTRECIEVE: { text: \"待收货\", type: \"primary\" },\n        DONE: { text: \"已完成\", type: \"success\" },\n      },\n    };\n  },\n  created() {\n    this.load(1);\n  },\n  methods: {\n    load(pageNum) {\n      this.pageNum = pageNum;\n      this.$request\n        .get(`/orders/${this.url}`, {\n          params: {\n            pageNum: this.pageNum,\n            pageSize: this.pageSize,\n            goodsName: this.goodsName,\n            orderNo: this.orderNo,\n          },\n        })\n        .then((res) => {\n          if (res.code === \"200\") {\n            this.tableData = res.data.list;\n            this.total = res.data.total;\n          } else {\n            this.$message.error(res.msg);\n          }\n        });\n    },\n    handleDetail(row) {\n      this.$router.push(\"/front/goodsDetail?id=\" + row.goodsId);\n    },\n    cancel(id) {\n      this.$confirm(\"是否取消订单？\", \"提示\", { type: \"warning\" }).then(() => {\n        this.$request.post(\"/orders/cancel/\" + id).then((res) => {\n          if (res.code === \"200\") {\n            this.$message.success(\"取消成功\");\n            this.load(1);\n          } else {\n            this.$message.error(res.msg);\n          }\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.orders-container {\n  width: 85%;\n  margin: 20px auto;\n}\n\n.filter-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n  flex-wrap: wrap;\n}\n\n.search-inputs {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.search-box {\n  width: 200px;\n}\n\n.pagination-bar {\n  margin-top: 20px;\n  text-align: center;\n}\n</style>\n"],"mappings":";AAuEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;MACAC,GAAA;MACAC,SAAA;MACAC,OAAA;MACAC,SAAA;QACAC,MAAA;UAAAC,IAAA;UAAAC,IAAA;QAAA;QACAC,MAAA;UAAAF,IAAA;UAAAC,IAAA;QAAA;QACAE,OAAA;UAAAH,IAAA;UAAAC,IAAA;QAAA;QACAG,UAAA;UAAAJ,IAAA;UAAAC,IAAA;QAAA;QACAI,IAAA;UAAAL,IAAA;UAAAC,IAAA;QAAA;MACA;IACA;EACA;EACAK,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAD,KAAAf,OAAA;MACA,KAAAA,OAAA,GAAAA,OAAA;MACA,KAAAiB,QAAA,CACAC,GAAA,iBAAAf,GAAA;QACAgB,MAAA;UACAnB,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAG,SAAA,OAAAA,SAAA;UACAC,OAAA,OAAAA;QACA;MACA,GACAe,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAvB,SAAA,GAAAsB,GAAA,CAAAvB,IAAA,CAAAyB,IAAA;UACA,KAAArB,KAAA,GAAAmB,GAAA,CAAAvB,IAAA,CAAAI,KAAA;QACA;UACA,KAAAsB,QAAA,CAAAC,KAAA,CAAAJ,GAAA,CAAAK,GAAA;QACA;MACA;IACA;IACAC,aAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,4BAAAF,GAAA,CAAAG,OAAA;IACA;IACAC,OAAAC,EAAA;MACA,KAAAC,QAAA;QAAAzB,IAAA;MAAA,GAAAW,IAAA;QACA,KAAAH,QAAA,CAAAkB,IAAA,qBAAAF,EAAA,EAAAb,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAC,IAAA;YACA,KAAAE,QAAA,CAAAY,OAAA;YACA,KAAArB,IAAA;UACA;YACA,KAAAS,QAAA,CAAAC,KAAA,CAAAJ,GAAA,CAAAK,GAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
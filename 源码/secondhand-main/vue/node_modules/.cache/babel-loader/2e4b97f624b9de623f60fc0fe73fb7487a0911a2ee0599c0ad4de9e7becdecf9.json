{"ast":null,"code":"import * as echarts from 'echarts';\nimport { onMounted } from 'vue';\nimport axios from 'axios';\n\n// 设置 axios 的基础 URL\n\nexport default {\n  __name: 'Home',\n  setup(__props) {\n    axios.defaults.baseURL = 'http://localhost:9090';\n    onMounted(() => {\n      loadCharts();\n    });\n    const loadCharts = async () => {\n      // 用户登录趋势图\n      const loginTrendChart = echarts.init(document.getElementById('loginTrendChart'));\n      const loginRes = await axios.get('/api/stats/user-login-trend');\n      loginTrendChart.setOption({\n        title: {\n          text: '用户登录趋势（近7天）'\n        },\n        xAxis: {\n          type: 'category',\n          data: loginRes.data.data.map(i => i.date)\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: loginRes.data.data.map(i => i.count),\n          type: 'line',\n          smooth: true\n        }]\n      });\n\n      // 商品热销排行\n      const topProductsChart = echarts.init(document.getElementById('topProductsChart'));\n      const topRes = await axios.get('/api/stats/top-products');\n      topProductsChart.setOption({\n        title: {\n          text: '商品热销排行'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        series: [{\n          name: '销量',\n          type: 'pie',\n          radius: '50%',\n          data: topRes.data.data,\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      });\n\n      // 用户销售额排行\n      const userSalesChart = echarts.init(document.getElementById('userSalesChart'));\n      const userRes = await axios.get('/api/stats/user-sales');\n      userSalesChart.setOption({\n        title: {\n          text: '用户销售额排行'\n        },\n        xAxis: {\n          type: 'category',\n          data: userRes.data.data.map(i => i.name)\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: userRes.data.data.map(i => i.value),\n          type: 'bar'\n        }]\n      });\n\n      // 商品分类销量统计\n      const categorySalesChart = echarts.init(document.getElementById('categorySalesChart'));\n      const catRes = await axios.get('/api/stats/category-sales');\n      categorySalesChart.setOption({\n        title: {\n          text: '商品分类销量统计'\n        },\n        xAxis: {\n          type: 'category',\n          data: catRes.data.data.map(i => i.name)\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: catRes.data.data.map(i => i.value),\n          type: 'bar'\n        }]\n      });\n    };\n    return {\n      __sfc: true,\n      loadCharts\n    };\n  }\n};","map":{"version":3,"names":["echarts","onMounted","axios","defaults","baseURL","loadCharts","loginTrendChart","init","document","getElementById","loginRes","get","setOption","title","text","xAxis","type","data","map","i","date","yAxis","series","count","smooth","topProductsChart","topRes","tooltip","trigger","name","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","userSalesChart","userRes","value","categorySalesChart","catRes"],"sources":["Home.vue"],"sourcesContent":["<template>\n  <div class=\"home-container\">\n    <el-row :gutter=\"20\">\n      <el-col :span=\"12\">\n        <el-card>\n          <div id=\"loginTrendChart\" style=\"height: 400px\"></div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-card>\n          <div id=\"topProductsChart\" style=\"height: 400px\"></div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <el-row :gutter=\"20\" style=\"margin-top: 20px\">\n      <el-col :span=\"12\">\n        <el-card>\n          <div id=\"userSalesChart\" style=\"height: 400px\"></div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-card>\n          <div id=\"categorySalesChart\" style=\"height: 400px\"></div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script setup>\nimport * as echarts from 'echarts'\nimport { onMounted } from 'vue'\nimport axios from 'axios'\n\n// 设置 axios 的基础 URL\naxios.defaults.baseURL = 'http://localhost:9090'\n\nonMounted(() => {\n  loadCharts()\n})\n\nconst loadCharts = async () => {\n  // 用户登录趋势图\n  const loginTrendChart = echarts.init(document.getElementById('loginTrendChart'))\n  const loginRes = await axios.get('/api/stats/user-login-trend')\n  loginTrendChart.setOption({\n    title: { text: '用户登录趋势（近7天）' },\n    xAxis: { type: 'category', data: loginRes.data.data.map(i => i.date) },\n    yAxis: { type: 'value' },\n    series: [\n      {\n        data: loginRes.data.data.map(i => i.count),\n        type: 'line',\n        smooth: true\n      }\n    ]\n  })\n\n  // 商品热销排行\n  const topProductsChart = echarts.init(document.getElementById('topProductsChart'))\n  const topRes = await axios.get('/api/stats/top-products')\n  topProductsChart.setOption({\n    title: { text: '商品热销排行' },\n    tooltip: { trigger: 'item' },\n    series: [\n      {\n        name: '销量',\n        type: 'pie',\n        radius: '50%',\n        data: topRes.data.data,\n        emphasis: {\n          itemStyle: {\n            shadowBlur: 10,\n            shadowOffsetX: 0,\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\n          }\n        }\n      }\n    ]\n  })\n\n  // 用户销售额排行\n  const userSalesChart = echarts.init(document.getElementById('userSalesChart'))\n  const userRes = await axios.get('/api/stats/user-sales')\n  userSalesChart.setOption({\n    title: { text: '用户销售额排行' },\n    xAxis: {\n      type: 'category',\n      data: userRes.data.data.map(i => i.name)\n    },\n    yAxis: { type: 'value' },\n    series: [\n      {\n        data: userRes.data.data.map(i => i.value),\n        type: 'bar'\n      }\n    ]\n  })\n\n  // 商品分类销量统计\n  const categorySalesChart = echarts.init(document.getElementById('categorySalesChart'))\n  const catRes = await axios.get('/api/stats/category-sales')\n  categorySalesChart.setOption({\n    title: { text: '商品分类销量统计' },\n    xAxis: {\n      type: 'category',\n      data: catRes.data.data.map(i => i.name)\n    },\n    yAxis: { type: 'value' },\n    series: [\n      {\n        data: catRes.data.data.map(i => i.value),\n        type: 'bar'\n      }\n    ]\n  })\n}\n</script>\n\n<style scoped>\n.home-container {\n  padding: 20px;\n}\n</style>\n"],"mappings":"AA+BA,OAAO,KAAKA,OAAO,MAAM,SAAS;AAClC,SAASC,SAAS,QAAQ,KAAK;AAC/B,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;;;;IACAA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAG,uBAAuB;IAEhDH,SAAS,CAAC,MAAM;MACdI,UAAU,CAAC,CAAC;IACd,CAAC,CAAC;IAEF,MAAMA,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B;MACA,MAAMC,eAAe,GAAGN,OAAO,CAACO,IAAI,CAACC,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC,CAAC;MAChF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,6BAA6B,CAAC;MAC/DL,eAAe,CAACM,SAAS,CAAC;QACxBC,KAAK,EAAE;UAAEC,IAAI,EAAE;QAAc,CAAC;QAC9BC,KAAK,EAAE;UAAEC,IAAI,EAAE,UAAU;UAAEC,IAAI,EAAEP,QAAQ,CAACO,IAAI,CAACA,IAAI,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI;QAAE,CAAC;QACtEC,KAAK,EAAE;UAAEL,IAAI,EAAE;QAAQ,CAAC;QACxBM,MAAM,EAAE,CACN;UACEL,IAAI,EAAEP,QAAQ,CAACO,IAAI,CAACA,IAAI,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACI,KAAK,CAAC;UAC1CP,IAAI,EAAE,MAAM;UACZQ,MAAM,EAAE;QACV,CAAC;MAEL,CAAC,CAAC;;MAEF;MACA,MAAMC,gBAAgB,GAAGzB,OAAO,CAACO,IAAI,CAACC,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CAAC;MAClF,MAAMiB,MAAM,GAAG,MAAMxB,KAAK,CAACS,GAAG,CAAC,yBAAyB,CAAC;MACzDc,gBAAgB,CAACb,SAAS,CAAC;QACzBC,KAAK,EAAE;UAAEC,IAAI,EAAE;QAAS,CAAC;QACzBa,OAAO,EAAE;UAAEC,OAAO,EAAE;QAAO,CAAC;QAC5BN,MAAM,EAAE,CACN;UACEO,IAAI,EAAE,IAAI;UACVb,IAAI,EAAE,KAAK;UACXc,MAAM,EAAE,KAAK;UACbb,IAAI,EAAES,MAAM,CAACT,IAAI,CAACA,IAAI;UACtBc,QAAQ,EAAE;YACRC,SAAS,EAAE;cACTC,UAAU,EAAE,EAAE;cACdC,aAAa,EAAE,CAAC;cAChBC,WAAW,EAAE;YACf;UACF;QACF,CAAC;MAEL,CAAC,CAAC;;MAEF;MACA,MAAMC,cAAc,GAAGpC,OAAO,CAACO,IAAI,CAACC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAAC;MAC9E,MAAM4B,OAAO,GAAG,MAAMnC,KAAK,CAACS,GAAG,CAAC,uBAAuB,CAAC;MACxDyB,cAAc,CAACxB,SAAS,CAAC;QACvBC,KAAK,EAAE;UAAEC,IAAI,EAAE;QAAU,CAAC;QAC1BC,KAAK,EAAE;UACLC,IAAI,EAAE,UAAU;UAChBC,IAAI,EAAEoB,OAAO,CAACpB,IAAI,CAACA,IAAI,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACU,IAAI;QACzC,CAAC;QACDR,KAAK,EAAE;UAAEL,IAAI,EAAE;QAAQ,CAAC;QACxBM,MAAM,EAAE,CACN;UACEL,IAAI,EAAEoB,OAAO,CAACpB,IAAI,CAACA,IAAI,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACmB,KAAK,CAAC;UACzCtB,IAAI,EAAE;QACR,CAAC;MAEL,CAAC,CAAC;;MAEF;MACA,MAAMuB,kBAAkB,GAAGvC,OAAO,CAACO,IAAI,CAACC,QAAQ,CAACC,cAAc,CAAC,oBAAoB,CAAC,CAAC;MACtF,MAAM+B,MAAM,GAAG,MAAMtC,KAAK,CAACS,GAAG,CAAC,2BAA2B,CAAC;MAC3D4B,kBAAkB,CAAC3B,SAAS,CAAC;QAC3BC,KAAK,EAAE;UAAEC,IAAI,EAAE;QAAW,CAAC;QAC3BC,KAAK,EAAE;UACLC,IAAI,EAAE,UAAU;UAChBC,IAAI,EAAEuB,MAAM,CAACvB,IAAI,CAACA,IAAI,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACU,IAAI;QACxC,CAAC;QACDR,KAAK,EAAE;UAAEL,IAAI,EAAE;QAAQ,CAAC;QACxBM,MAAM,EAAE,CACN;UACEL,IAAI,EAAEuB,MAAM,CAACvB,IAAI,CAACA,IAAI,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACmB,KAAK,CAAC;UACxCtB,IAAI,EAAE;QACR,CAAC;MAEL,CAAC,CAAC;IACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
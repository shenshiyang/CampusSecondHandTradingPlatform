{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Orders',\n  data() {\n    return {\n      url: 'selectPage',\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      goodsName: '',\n      orderNo: '',\n      status: ''\n    };\n  },\n  created() {\n    this.load(1);\n  },\n  methods: {\n    load(pageNum) {\n      this.pageNum = pageNum;\n      this.$request.get(`/orders/${this.url}`, {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          goodsName: this.goodsName,\n          orderNo: this.orderNo,\n          status: this.status\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data.list;\n          this.total = res.data.total;\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    handleDetail(row) {\n      this.$router.push('/front/goodsDetail?id=' + row.goodsId);\n    },\n    cancel(id) {\n      this.$confirm('是否取消订单？', '提示', {\n        type: 'warning'\n      }).then(() => {\n        this.$request.post('/orders/cancel/' + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success('取消成功');\n            this.load(1);\n          } else {\n            this.$message.error(res.msg);\n          }\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","url","tableData","pageNum","pageSize","total","goodsName","orderNo","status","created","load","methods","$request","get","params","then","res","code","list","$message","error","msg","handleDetail","row","$router","push","goodsId","cancel","id","$confirm","type","post","success"],"sources":["src/views/front/Orders.vue"],"sourcesContent":["<template>\n  <div class=\"orders-container\">\n    <el-card class=\"card-box\">\n      <div class=\"filter-bar\">\n        <el-radio-group v-model=\"url\" @change=\"load(1)\">\n          <el-radio-button label=\"selectPage\">我购买的订单</el-radio-button>\n          <el-radio-button label=\"selectSalePage\">我出售的订单</el-radio-button>\n        </el-radio-group>\n\n        <div class=\"filter-inputs\">\n          <el-input\n            v-model=\"goodsName\"\n            placeholder=\"请输入商品名称\"\n            clearable\n          />\n          <el-input\n            v-model=\"orderNo\"\n            placeholder=\"请输入订单编号\"\n            clearable\n          />\n          <el-select v-model=\"status\" clearable placeholder=\"请选择状态\">\n            <el-option value=\"已取消\" />\n            <el-option value=\"待支付\" />\n            <el-option value=\"待发货\" />\n            <el-option value=\"待收货\" />\n            <el-option value=\"已完成\" />\n          </el-select>\n          <el-button type=\"primary\" @click=\"load(1)\">搜索</el-button>\n        </div>\n      </div>\n\n      <el-table\n        :data=\"tableData\"\n        stripe\n        border\n        empty-text=\"暂无数据\"\n        highlight-current-row\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"orderNo\" label=\"订单编号\" align=\"center\" />\n        <el-table-column prop=\"goodsName\" label=\"商品名称\" align=\"center\" show-overflow-tooltip />\n        <el-table-column prop=\"totalAmount\" label=\"金额\" align=\"center\" />\n        <el-table-column prop=\"address\" label=\"收货地址\" align=\"center\" show-overflow-tooltip />\n        <el-table-column prop=\"status\" label=\"订单状态\" align=\"center\" />\n        <el-table-column label=\"操作\" width=\"160\" align=\"center\">\n          <template v-slot=\"scope\">\n            <el-button type=\"text\" @click=\"handleDetail(scope.row)\">详情</el-button>\n            <el-button\n              v-if=\"scope.row.status === '待支付'\"\n              type=\"text\"\n              @click=\"cancel(scope.row.id)\"\n            >取消</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"pagination-bar\">\n        <el-pagination\n          background\n          @current-change=\"load\"\n          :current-page=\"pageNum\"\n          :page-size=\"pageSize\"\n          layout=\"total, prev, pager, next\"\n          :total=\"total\"\n        />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Orders',\n  data() {\n    return {\n      url: 'selectPage',\n      tableData: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      goodsName: '',\n      orderNo: '',\n      status: ''\n    }\n  },\n  created() {\n    this.load(1)\n  },\n  methods: {\n    load(pageNum) {\n      this.pageNum = pageNum\n      this.$request.get(`/orders/${this.url}`, {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          goodsName: this.goodsName,\n          orderNo: this.orderNo,\n          status: this.status\n        }\n      }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data.list\n          this.total = res.data.total\n        } else {\n          this.$message.error(res.msg)\n        }\n      })\n    },\n    handleDetail(row) {\n      this.$router.push('/front/goodsDetail?id=' + row.goodsId)\n    },\n    cancel(id) {\n      this.$confirm('是否取消订单？', '提示', { type: 'warning' }).then(() => {\n        this.$request.post('/orders/cancel/' + id).then(res => {\n          if (res.code === '200') {\n            this.$message.success('取消成功')\n            this.load(1)\n          } else {\n            this.$message.error(res.msg)\n          }\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.orders-container {\n  width: 85%;\n  margin: 30px auto;\n}\n\n.card-box {\n  padding: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\n  border-radius: 12px;\n}\n\n.filter-bar {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  margin-bottom: 15px;\n}\n\n.filter-inputs {\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n}\n\n.pagination-bar {\n  margin-top: 20px;\n  text-align: center;\n}\n</style>"],"mappings":";AAuEA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,GAAA;MACAC,SAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;MACAC,SAAA;MACAC,OAAA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAD,KAAAP,OAAA;MACA,KAAAA,OAAA,GAAAA,OAAA;MACA,KAAAS,QAAA,CAAAC,GAAA,iBAAAZ,GAAA;QACAa,MAAA;UACAX,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAE,SAAA,OAAAA,SAAA;UACAC,OAAA,OAAAA,OAAA;UACAC,MAAA,OAAAA;QACA;MACA,GAAAO,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAf,SAAA,GAAAc,GAAA,CAAAhB,IAAA,CAAAkB,IAAA;UACA,KAAAb,KAAA,GAAAW,GAAA,CAAAhB,IAAA,CAAAK,KAAA;QACA;UACA,KAAAc,QAAA,CAAAC,KAAA,CAAAJ,GAAA,CAAAK,GAAA;QACA;MACA;IACA;IACAC,aAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,4BAAAF,GAAA,CAAAG,OAAA;IACA;IACAC,OAAAC,EAAA;MACA,KAAAC,QAAA;QAAAC,IAAA;MAAA,GAAAf,IAAA;QACA,KAAAH,QAAA,CAAAmB,IAAA,qBAAAH,EAAA,EAAAb,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAC,IAAA;YACA,KAAAE,QAAA,CAAAa,OAAA;YACA,KAAAtB,IAAA;UACA;YACA,KAAAS,QAAA,CAAAC,KAAA,CAAAJ,GAAA,CAAAK,GAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import Comment from '@/components/Comment';\nexport default {\n  name: 'PostsDetail',\n  components: {\n    Comment\n  },\n  data() {\n    return {\n      id: this.$route.query.id,\n      posts: {},\n      loading: false\n    };\n  },\n  created() {\n    this.init();\n  },\n  methods: {\n    /** 初始化：先 +1 阅读量，再拉详情 */\n    async init() {\n      await this.$request.put(`/posts/updateCount/${this.id}`);\n      this.fetchPost();\n    },\n    /** 拉取帖子详情 */\n    async fetchPost() {\n      this.loading = true;\n      const {\n        code,\n        data,\n        msg\n      } = await this.$request.get(`/posts/selectById/${this.id}`);\n      this.loading = false;\n      code === '200' ? this.posts = data || {} : this.$message.error(msg);\n    }\n  }\n};","map":{"version":3,"names":["Comment","name","components","data","id","$route","query","posts","loading","created","init","methods","$request","put","fetchPost","code","msg","get","$message","error"],"sources":["src/views/front/PostsDetail.vue"],"sourcesContent":["<template>\n  <div class=\"posts-detail\">\n    <!-- ▍正文 -->\n    <el-card shadow=\"never\" class=\"post-card\" v-if=\"!loading\">\n      <h2 class=\"post-title\">{{ posts.title }}</h2>\n\n      <div class=\"post-meta\">\n        <span><i class=\"el-icon-user\" /> {{ posts.userName }}</span>\n        <span><i class=\"el-icon-time\" /> {{ posts.time }}</span>\n        <span><i class=\"el-icon-reading\" /> {{ posts.readCount }}</span>\n      </div>\n\n      <!-- 富文本内容 -->\n      <div\n        class=\"post-content w-e-text\"\n        v-html=\"posts.content\"\n      />\n    </el-card>\n\n    <!-- 骨架屏 -->\n    <el-skeleton v-else :rows=\"6\" animated />\n\n    <!-- ▍评论区 -->\n    <el-card shadow=\"never\" class=\"comment-card\">\n      <Comment :fid=\"id\" module=\"posts\" />\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport Comment from '@/components/Comment'\n\nexport default {\n  name: 'PostsDetail',\n  components: { Comment },\n  data() {\n    return {\n      id: this.$route.query.id,\n      posts: {},\n      loading: false\n    }\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    /** 初始化：先 +1 阅读量，再拉详情 */\n    async init() {\n      await this.$request.put(`/posts/updateCount/${this.id}`)\n      this.fetchPost()\n    },\n    /** 拉取帖子详情 */\n    async fetchPost() {\n      this.loading = true\n      const { code, data, msg } = await this.$request.get(\n        `/posts/selectById/${this.id}`\n      )\n      this.loading = false\n      code === '200' ? (this.posts = data || {}) : this.$message.error(msg)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.posts-detail {\n  width: 60%;\n  margin: 20px auto;\n}\n\n/* 正文卡片 */\n.post-card {\n  padding: 30px 40px;\n  margin-bottom: 20px;\n}\n.post-title {\n  text-align: center;\n  font-size: 22px;\n  font-weight: 600;\n  margin-bottom: 24px;\n}\n.post-meta {\n  text-align: center;\n  color: #8c8c8c;\n  font-size: 13px;\n  margin-bottom: 40px;\n}\n.post-meta span + span {\n  margin-left: 22px;\n}\n.post-content {\n  font-size: 15px;\n  line-height: 1.8;\n}\n\n/* 评论卡片 */\n.comment-card {\n  padding: 20px 30px;\n}\n</style>\n"],"mappings":"AA8BA,OAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,EAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;MACAG,KAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACA;IACA,MAAAD,KAAA;MACA,WAAAE,QAAA,CAAAC,GAAA,4BAAAT,EAAA;MACA,KAAAU,SAAA;IACA;IACA;IACA,MAAAA,UAAA;MACA,KAAAN,OAAA;MACA;QAAAO,IAAA;QAAAZ,IAAA;QAAAa;MAAA,eAAAJ,QAAA,CAAAK,GAAA,CACA,0BAAAb,EAAA,EACA;MACA,KAAAI,OAAA;MACAO,IAAA,kBAAAR,KAAA,GAAAJ,IAAA,cAAAe,QAAA,CAAAC,KAAA,CAAAH,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}